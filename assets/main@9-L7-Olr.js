import{I as F,a as D,J as pe,K as te,o as we,L as Se,M as H,f as Ee,c as P,d as I,y as A,j,t as ke,u as M,C as W,i as K,q as Y,N as k,O as Le,P as xe,e as C,Q as Ae,R as ne,S as Oe,w as ue,F as he,U as Pe,D as $e,x as je,s as qe,V as Re,W as Me,X as Ce,Y as Ne}from"./vue@VMVV_7_-.js";import{s as Te,a as De,b as T,c as de,d as ze,P as Be}from"./primevue@JRHUw1Xt.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const e of l)if(e.type==="childList")for(const t of e.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&s(t)}).observe(document,{childList:!0,subtree:!0});function r(l){const e={};return l.integrity&&(e.integrity=l.integrity),l.referrerPolicy&&(e.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?e.credentials="include":l.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function s(l){if(l.ep)return;l.ep=!0;const e=r(l);fetch(l.href,e)}})();const Ie=""+new URL("logo@DxTsBerY.png",import.meta.url).href;let ee={scrollX:-1,scrollY:-1};const G=[];function Ue(){const a=function(){const o={scrollX:window.scrollX,scrollY:window.scrollY};if(o.scrollX!==ee.scrollX||o.scrollY!==ee.scrollY)for(const r of G)r(o,ee);ee=o,G.length>0&&requestAnimationFrame(a)};requestAnimationFrame(a)}function Ve(a){G.push(a),G.length===1&&Ue()}function He(a){const o=G.indexOf(a);o>=0&&G.splice(o,1)}const We=a=>(Le("data-v-151ac467"),a=a(),xe(),a),Fe=We(()=>C("img",{alt:"logo",src:Ie,class:"h-full"},null,-1)),Xe=F({__name:"Navbar",props:{hideOnScroll:Boolean},setup(a){const o=D(null),r=pe(),s=te(),l=a;function e(y){let c=0;return({scrollY:u},{scrollY:h})=>{if(h!==-1){if(u>h){if(c>=y.scrollHeight)return;c=Math.min(y.scrollHeight,c+(u-h))}else{if(c<=0)return;c=Math.max(0,c+(u-h))}y.style.opacity=(1-c*(1/y.scrollHeight)).toString(),y.style.top=`-${c}px`}}}let t=null;we(()=>{l.hideOnScroll&&(t=e(o.value),Ve(t))}),Se(()=>{t&&He(t)});function p(y){return y.split(/[_-]/).map(c=>c[0].toUpperCase()+c.slice(1)).join(" ")}const w=H(()=>{const y=s.options.routes.filter(u=>u.meta?.showInNav),c=r.path;return y.map(u=>({label:u.meta?.title||p(u.name),selected:u.path===c,target:u.path}))});return(y,c)=>{const u=Ee("router-link");return P(),I("header",{ref_key:"$el",ref:o,class:"bg-dark sticky py-2",style:{top:"0"}},[A(k(Te),{model:w.value,class:"container-lg h-3rem bg-transparent border-none border-noround"},{start:j(()=>[A(u,{to:"/",class:"hidden lg:block",style:{height:"60px"}},{default:j(()=>[Fe]),_:1})]),item:j(({label:h,item:S,item:{target:v}})=>[v?(P(),K(u,{key:0,to:v,class:ke(S.selected?"selected":"")},{default:j(()=>[W(M(h),1)]),_:2},1032,["to","class"])):Y("",!0)]),_:1},8,["model"])],512)}}}),Ye=(a,o)=>{const r=a.__vccOpts||a;for(const[s,l]of o)r[s]=l;return r},Ge=Ye(Xe,[["__scopeId","data-v-151ac467"]]),Ke=F({__name:"PageHeader",setup(a){return(o,r)=>(P(),K(Ge,{"hide-on-scroll":!0}))}}),ge=Ae("flash",()=>{const a=D(),o=D();function r(l,e="info"){o.value={message:l,severity:e}}function s(){const l=a.value;return a.value=o.value,o.value=void 0,l}return{current:a,setFlash:r,popFlash:s}}),Je="modulepreload",Qe=function(a,o){return new URL(a,o).href},me={},le=function(o,r,s){let l=Promise.resolve();if(r&&r.length>0){const e=document.getElementsByTagName("link");l=Promise.all(r.map(t=>{if(t=Qe(t,s),t in me)return;me[t]=!0;const p=t.endsWith(".css"),w=p?'[rel="stylesheet"]':"";if(!!s)for(let u=e.length-1;u>=0;u--){const h=e[u];if(h.href===t&&(!p||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${t}"]${w}`))return;const c=document.createElement("link");if(c.rel=p?"stylesheet":Je,p||(c.as="script",c.crossOrigin=""),c.href=t,document.head.appendChild(c),p)return new Promise((u,h)=>{c.addEventListener("load",u),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${t}`)))})}))}return l.then(()=>o()).catch(e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e})},fe={light:{import:()=>le(()=>Promise.resolve({}),__vite__mapDeps([0]),import.meta.url),media:"(prefers-color-scheme: light)"},dark:{import:()=>le(()=>Promise.resolve({}),__vite__mapDeps([1]),import.meta.url),media:"screen and (prefers-color-scheme: dark)"}};async function Ze(a){const o=[...document.querySelectorAll('style[data-vite-dev-id*="/themes/"], link[href*="/themes/"]')].map(s=>({el:s,href:[...s.attributes].find(({value:l})=>l.includes("/themes/"))?.value})).filter(({href:s})=>!!s);let r=o.find(s=>s.href.includes(`-${a}`))?.el;(r?.getAttribute("media")??"disabled")==="disabled"&&(r||await fe[a].import(),r=o.find(s=>s.href.includes(`-${a}`))?.el,r?.setAttribute("media",fe[a].media??""),o.filter(({el:s})=>s!==r).forEach(({el:s})=>s.setAttribute("media","disabled")))}function et(){const a=window.matchMedia("(prefers-color-scheme: dark)"),o=D("");function r(s){s.media.includes(": dark")&&(o.value=s.matches?"dark":"light")}ne(()=>{a.addEventListener("change",r),o.value=a.matches?"dark":"light"}),Oe(()=>{a.removeEventListener("change",r)}),ue(o,s=>{if(s)return Ze(s)})}const tt={key:0,class:"container-lg mt-5"},nt=F({__name:"App",setup(a){const o=ge(),r=H(()=>o.current);return et(),(s,l)=>(P(),I(he,null,[A(Ke),r.value?(P(),I("div",tt,[A(k(De),{severity:r.value.severity,closable:!1},{default:j(()=>[W(M(r.value.message),1)]),_:1},8,["severity"])])):Y("",!0),A(k(Pe),{class:"container-lg py-3"})],64))}});var rt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ye={exports:{}};(function(a,o){(function(r,s){a.exports=s()})(rt,function(){return(()=>{var r={870:(e,t,p)=>{p.r(t),p.d(t,{createEndpoint:()=>y,expose:()=>v,proxy:()=>Z,proxyMarker:()=>w,releaseProxy:()=>c,transfer:()=>R,transferHandlers:()=>S,windowEndpoint:()=>be,wrap:()=>n});const w=Symbol("Comlink.proxy"),y=Symbol("Comlink.endpoint"),c=Symbol("Comlink.releaseProxy"),u=Symbol("Comlink.thrown"),h=i=>typeof i=="object"&&i!==null||typeof i=="function",S=new Map([["proxy",{canHandle:i=>h(i)&&i[w],serialize(i){const{port1:f,port2:O}=new MessageChannel;return v(i,f),[O,[O]]},deserialize:i=>(i.start(),n(i))}],["throw",{canHandle:i=>h(i)&&u in i,serialize({value:i}){let f;return f=i instanceof Error?{isError:!0,value:{message:i.message,name:i.name,stack:i.stack}}:{isError:!1,value:i},[f,[]]},deserialize(i){throw i.isError?Object.assign(new Error(i.value.message),i.value):i.value}}]]);function v(i,f=self){f.addEventListener("message",function O(b){if(!b||!b.data)return;const{id:N,type:U,path:L}=Object.assign({path:[]},b.data),q=(b.data.argumentList||[]).map(V);let x;try{const $=L.slice(0,-1).reduce((z,J)=>z[J],i),B=L.reduce((z,J)=>z[J],i);switch(U){case 0:x=B;break;case 1:$[L.slice(-1)[0]]=V(b.data.value),x=!0;break;case 2:x=B.apply($,q);break;case 3:x=Z(new B(...q));break;case 4:{const{port1:z,port2:J}=new MessageChannel;v(i,J),x=R(z,[z])}break;case 5:x=void 0}}catch($){x={value:$,[u]:0}}Promise.resolve(x).catch($=>({value:$,[u]:0})).then($=>{const[B,z]=ae($);f.postMessage(Object.assign(Object.assign({},B),{id:N}),z),U===5&&(f.removeEventListener("message",O),E(f))})}),f.start&&f.start()}function E(i){(function(f){return f.constructor.name==="MessagePort"})(i)&&i.close()}function n(i,f){return g(i,[],f)}function d(i){if(i)throw new Error("Proxy has been released and is not useable")}function g(i,f=[],O=function(){}){let b=!1;const N=new Proxy(O,{get(U,L){if(d(b),L===c)return()=>X(i,{type:5,path:f.map(q=>q.toString())}).then(()=>{E(i),b=!0});if(L==="then"){if(f.length===0)return{then:()=>N};const q=X(i,{type:0,path:f.map(x=>x.toString())}).then(V);return q.then.bind(q)}return g(i,[...f,L])},set(U,L,q){d(b);const[x,$]=ae(q);return X(i,{type:1,path:[...f,L].map(B=>B.toString()),value:x},$).then(V)},apply(U,L,q){d(b);const x=f[f.length-1];if(x===y)return X(i,{type:4}).then(V);if(x==="bind")return g(i,f.slice(0,-1));const[$,B]=m(q);return X(i,{type:2,path:f.map(z=>z.toString()),argumentList:$},B).then(V)},construct(U,L){d(b);const[q,x]=m(L);return X(i,{type:3,path:f.map($=>$.toString()),argumentList:q},x).then(V)}});return N}function m(i){const f=i.map(ae);return[f.map(b=>b[0]),(O=f.map(b=>b[1]),Array.prototype.concat.apply([],O))];var O}const _=new WeakMap;function R(i,f){return _.set(i,f),i}function Z(i){return Object.assign(i,{[w]:!0})}function be(i,f=self,O="*"){return{postMessage:(b,N)=>i.postMessage(b,O,N),addEventListener:f.addEventListener.bind(f),removeEventListener:f.removeEventListener.bind(f)}}function ae(i){for(const[f,O]of S)if(O.canHandle(i)){const[b,N]=O.serialize(i);return[{type:3,name:f,value:b},N]}return[{type:0,value:i},_.get(i)||[]]}function V(i){switch(i.type){case 3:return S.get(i.name).deserialize(i.value);case 0:return i.value}}function X(i,f,O){return new Promise(b=>{const N=new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-");i.addEventListener("message",function U(L){L.data&&L.data.id&&L.data.id===N&&(i.removeEventListener("message",U),b(L.data))}),i.start&&i.start(),i.postMessage(Object.assign({id:N},f),O)})}},162:function(e,t,p){var w=this&&this.__createBinding||(Object.create?function(n,d,g,m){m===void 0&&(m=g),Object.defineProperty(n,m,{enumerable:!0,get:function(){return d[g]}})}:function(n,d,g,m){m===void 0&&(m=g),n[m]=d[g]}),y=this&&this.__setModuleDefault||(Object.create?function(n,d){Object.defineProperty(n,"default",{enumerable:!0,value:d})}:function(n,d){n.default=d}),c=this&&this.__importStar||function(n){if(n&&n.__esModule)return n;var d={};if(n!=null)for(var g in n)g!=="default"&&Object.prototype.hasOwnProperty.call(n,g)&&w(d,n,g);return y(d,n),d};Object.defineProperty(t,"__esModule",{value:!0}),t.createDbWorker=void 0;const u=c(p(870));async function h(n){if(n.data&&n.data.action==="eval"){const d=new Int32Array(n.data.notify,0,2),g=new Uint8Array(n.data.notify,8);let m;try{m={ok:await E(n.data.request)}}catch(R){console.error("worker request error",n.data.request,R),m={err:String(R)}}const _=new TextEncoder().encode(JSON.stringify(m));g.set(_,0),d[1]=_.length,Atomics.notify(d,0)}}function S(n){if(n.tagName==="BODY")return"body";const d=[];for(;n.parentElement&&n.tagName!=="BODY";){if(n.id){d.unshift("#"+n.id);break}{let g=1,m=n;for(;m.previousElementSibling;)m=m.previousElementSibling,g++;d.unshift(n.tagName.toLowerCase()+":nth-child("+g+")")}n=n.parentElement}return d.join(" > ")}function v(n){return Object.keys(n)}async function E(n){if(console.log("dom vtable request",n),n.type==="select")return[...document.querySelectorAll(n.selector)].map(d=>{const g={};for(const m of n.columns)m==="selector"?g.selector=S(d):m==="parent"?d.parentElement&&(g.parent=d.parentElement?S(d.parentElement):null):m==="idx"||(g[m]=d[m]);return g});if(n.type==="insert"){if(!n.value.parent)throw Error('"parent" column must be set when inserting');const d=document.querySelectorAll(n.value.parent);if(d.length===0)throw Error(`Parent element ${n.value.parent} could not be found`);if(d.length>1)throw Error(`Parent element ${n.value.parent} ambiguous (${d.length} results)`);const g=d[0];if(!n.value.tagName)throw Error("tagName must be set for inserting");const m=document.createElement(n.value.tagName);for(const _ of v(n.value))if(n.value[_]!==null){if(_==="tagName"||_==="parent")continue;if(_==="idx"||_==="selector")throw Error(`${_} can't be set`);m[_]=n.value[_]}return g.appendChild(m),null}if(n.type==="update"){const d=document.querySelector(n.value.selector);if(!d)throw Error(`Element ${n.value.selector} not found!`);const g=[];for(const m of v(n.value)){const _=n.value[m];if(m!=="parent"){if(m!=="idx"&&m!=="selector"&&_!==d[m]){if(console.log("SETTING ",m,d[m],"->",_),m==="tagName")throw Error("can't change tagName");g.push(m)}}else if(_!==S(d.parentElement)){const R=document.querySelectorAll(_);if(R.length!==1)throw Error(`Invalid target parent: found ${R.length} matches`);R[0].appendChild(d)}}for(const m of g)d[m]=n.value[m];return null}throw Error(`unknown request ${n.type}`)}u.transferHandlers.set("WORKERSQLPROXIES",{canHandle:n=>!1,serialize(n){throw Error("no")},deserialize:n=>(n.start(),u.wrap(n))}),t.createDbWorker=async function(n,d,g,m=1/0){const _=new Worker(d),R=u.wrap(_),Z=await R.SplitFileHttpDatabase(g,n,void 0,m);return _.addEventListener("message",h),{db:Z,worker:R,configs:n}}},432:function(e,t,p){var w=this&&this.__createBinding||(Object.create?function(c,u,h,S){S===void 0&&(S=h),Object.defineProperty(c,S,{enumerable:!0,get:function(){return u[h]}})}:function(c,u,h,S){S===void 0&&(S=h),c[S]=u[h]}),y=this&&this.__exportStar||function(c,u){for(var h in c)h==="default"||Object.prototype.hasOwnProperty.call(u,h)||w(u,c,h)};Object.defineProperty(t,"__esModule",{value:!0}),y(p(162),t)}},s={};function l(e){var t=s[e];if(t!==void 0)return t.exports;var p=s[e]={exports:{}};return r[e].call(p.exports,p,p.exports,l),p.exports}return l.d=(e,t)=>{for(var p in t)l.o(t,p)&&!l.o(e,p)&&Object.defineProperty(e,p,{enumerable:!0,get:t[p]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l(432)})()})})(ye);var at=ye.exports;const ot=window.location.href.replace(/[?&#].*$/,"").replace(/\w+\.\w+\/*$/,"").replace(/\/+$/,""),st=new URL(""+new URL("sqlite.worker@zEt9nnv6.js",import.meta.url).href,import.meta.url),it=new URL(""+new URL("sql-wasm@b-4EaVKI.wasm",import.meta.url).href,import.meta.url),lt=10*1024*1024;function ct(a,o){const r={};for(let s=0;s<a.length;s++)r[a[s]]=o[s];return r}let oe;async function ut(){if(!oe){const a=window.location.href.match(/:\/\/(?:[0-9]+|localhost|[^\/]+\.local)\b/)?`${ot}/data/bsfree.db`:"https://static.mackrodt.io/files/bsfree.4cfee26.db";oe=await at.createDbWorker([{from:"inline",config:{serverMode:"full",requestChunkSize:4096,url:a}}],st.toString(),it.toString(),lt)}return oe}const dt=new TextDecoder;function mt(a){const o=new Uint8Array(a.length);for(let r=0;r<a.length;r++)o[r]=a.charCodeAt(r);return dt.decode(o).replaceAll(/&#([0-9]+);/g,(r,s)=>String.fromCharCode(s)).replaceAll("&amp;","&").replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&quot;","'").replaceAll(/<br ?\/?>?/gi,`
`).replaceAll(/br ?\/?>/gi,`
`).replaceAll(/\s*<p>/gi,`
`).replaceAll(/\s*<\/p> */gi,`
`).replaceAll(/<[a-z]+ ?\/?> */gi,"").replaceAll(/<\/[a-z]+> */gi,"").trim()}const ft=new TextEncoder;async function pt(a){const o=await window.crypto.subtle.digest("SHA-256",ft.encode(a));return Array.from(new Uint8Array(o),r=>r.toString(16).padStart(2,"0")).join("")}const se=new Map;async function Q(a,o){const r=await pt(JSON.stringify({sql:a,params:o}));if(se.has(r))return se.get(r);const s=await ut(),l=Date.now();let e;try{e=await s.db.exec(a,o)}finally{console.info("executed statement",{bytesRead:await s.worker.bytesRead,elapsed:Date.now()-l,params:o,sql:a})}s.worker.bytesRead=0;let t=[];return e.length===1&&(t=e[0].values.map(p=>ct(e[0].columns,p.map(w=>typeof w=="string"?mt(w):w)))),se.set(r,t),t}async function ve(a){const o=await Q("select name from systems where id = ?",[a]);if(o.length)return o[0].name}const ht=async()=>await Q(`
  select s1.id, min(s1.name) as name, sum(s2.qty) as qty
  from systems s1
  join systems s2 on s2.group_id = s1.id
  where s1.id in (select distinct group_id from systems)
  group by s1.id
  order by name, s1.id
`);async function gt(a){const o=await Q(`
    select s.id      as system_id,
           s.name    as system_name,
           g.id      as game_uid,
           g.game_id as game_id,
           g.name    as game_name,
           g.version as game_version,
           g.qty     as game_qty,
           d.id      as device_id,
           d.name    as device_name
    from games g
    join systems s on s.id = g.system_id
    join devices d on d.id = g.device_id
    where g.qty > 0 and g.system_id in (select id from systems where group_id = ?)
    order by g.name, g.version, g.id, s.name, s.name, d.name, d.id
  `,[a]),r={},s={},l={};for(const e of o)if(e.device_id in r||(r[e.device_id]={id:e.device_id,name:e.device_name}),e.system_id in s||(s[e.system_id]={id:e.system_id,name:e.system_name}),!(e.game_uid in l)){const t=l[e.game_uid]={uid:e.game_uid,id:e.game_id,name:e.game_name,system:s[e.system_id],device:r[e.device_id],qty:e.game_qty};e.game_version!==null&&(t.version=e.game_version)}return Object.values(l).sort((e,t)=>e.name.localeCompare(t.name)||e.id-t.id||e.device.name.localeCompare(t.device.name)||e.device.id-t.device.id)}async function yt(a){const o=await Q("select name from games where id = ?",[a]);if(o.length)return o[0].name}async function vt(a){const o=await Q(`
    select s.id     as section_id,
           s.name   as section_name,
           c.id      as code_id,
           c.name    as code_name,
           c.note    as code_note,
           c.code    as code_code,
           a.id      as author_id,
           a.name    as author_name
    from codes c
    left join sections s on s.id = c.section_id
    left join authors a on a.id = c.author_id
    where c.game_uid = ?
    order by c.id
  `,[a]),r=[],s={},l={};for(const e of o){const t={id:e.code_id,name:e.code_name,code:e.code_code};e.code_note!==null&&(t.note=e.code_note),e.author_id&&(e.author_id in l||(l[e.author_id]={id:e.author_id,name:e.author_name}),t.author=l[e.author_id]),e.section_id?(e.section_id in s||(s[e.section_id]={id:e.section_id,name:e.section_name,codes:[]}),s[e.section_id].codes.push(t)):r.push(t)}return{codes:r,sections:Object.values(s)}}const _t={class:"mb-1"},bt=F({__name:"CodesTable",props:{group:{type:Object,required:!0}},setup(a){function o(l){const e={};return l.match(/\(M\)|\[M\]|must be/i)&&(e.fontWeight="bold"),e}const r=new RegExp(atob(["Y29ja3N1Y2tpbmdwaWVjZW9mc2hpdA=="].join("|")),"ig");function s(l){return l?.name.replaceAll(/ *[&,;] */g,",").replaceAll(/(\w)@[^ ,]*/g,"$1").replaceAll(r,"").split(",").map(e=>e.trim()).filter(Boolean).sort().join("; ")}return(l,e)=>(P(),K(k(de),{value:a.group.codes,"data-key":"id",size:"small",class:"text-sm",style:{"white-space":"pre-line"}},$e({default:j(()=>[A(k(T),{header:"Description",class:"col-3"},{body:j(t=>[C("span",{style:je(o(t.data.name))},M(t.data.name),5)]),_:1}),A(k(T),{field:"note",header:"Notes",class:"col-4 text-xs text-justify"}),A(k(T),{field:"code",header:"Code",class:"col-2",style:{"font-family":"monospace"}}),A(k(T),{header:"Author",class:"col-3"},{body:j(t=>[W(M(s(t.data.author)),1)]),_:1})]),_:2},[a.group.name?{name:"header",fn:j(()=>[C("h3",_t,M(a.group.name),1)]),key:"0"}:void 0]),1032,["value"]))}});async function ce(a,o,r,s){if(a.state[o])r.value=a.state[o];else{const l=await s();if(l){r.value=l;const e=a.state;e[o]=l,a.replace(a.location,e)}}}const wt={key:0,class:"mb-0"},St=F({__name:"GameView",props:{systemId:{type:String,required:!0},systemSlug:{type:String,required:!0},id:{type:String,required:!0},slug:{type:String,required:!0}},setup(a){const o=te(),r=a,s=D(""),l=D(""),e=H(()=>l.value&&s.value?`${l.value} - ${s.value}`:void 0),t=D(),p=H(()=>{const c=[];return t.value?.codes.length&&c.push({id:0,codes:t.value.codes}),t.value?.sections.forEach(u=>{c.push({id:u.id,name:u.name,codes:u.codes})}),c}),w=H(()=>t.value?t.value.codes.length+t.value.sections.reduce((c,u)=>c+u.codes.length,0):0);async function y(){const c=o.options.history;await Promise.all([ce(c,"name",l,()=>yt(r.id)),ce(c,"systemName",s,()=>ve(r.systemId)),vt(r.id).then(u=>t.value=u)])}return ne(y),ue(o.currentRoute,y),(c,u)=>(P(),I("main",null,[e.value?(P(),I("h1",wt,M(e.value),1)):Y("",!0),C("p",null,M(t.value?`${w.value.toLocaleString()} codes`:"Loading"),1),(P(!0),I(he,null,qe(p.value,h=>(P(),K(bt,{key:h.id,group:h},null,8,["group"]))),128))]))}}),Et=C("h1",null,"BSFree Archive",-1),kt=C("p",null,[W(" This is an unofficial archive of cheat codes contained on "),C("a",{href:"https://web.archive.org/web/20210225044111/http://bsfree.org/",target:"_blank"},"bsfree.org"),W(". ")],-1),Lt=F({__name:"HomeView",setup(a){const o=te(),r=D(),s=H(()=>r.value?r.value.reduce((e,t)=>e+t.qty,0):0);ne(async()=>{r.value=await ht()});function l(e){o.push({name:"system",params:{id:e.data.id,slug:e.data.name.toLowerCase().replaceAll(/[^a-z0-9 ]/gi,"").replaceAll(/ /g,"-")},state:{name:e.data.name}})}return(e,t)=>(P(),I("main",null,[Et,kt,C("p",null,M(r.value?`${s.value.toLocaleString()} codes`:"Loading"),1),s.value?(P(),K(k(de),{key:0,value:r.value,"data-key":"uid","selection-mode":"single",size:"small",class:"pl-0 sm:col-10 md:col-6 xl:col-5",onRowSelect:l},{default:j(()=>[A(k(T),{field:"name",header:"System",class:"col-10"}),A(k(T),{header:"Codes",class:"col-2 text-right"},{body:j(p=>[W(M(p.data.qty.toLocaleString()),1)]),_:1})]),_:1},8,["value"])):Y("",!0)]))}}),xt={key:0},At={class:"flex justify-content-end"},Ot={class:"p-input-icon-left"},Pt=C("i",{class:"pi pi-search"},null,-1),$t=F({__name:"SystemView",props:{id:{type:String,required:!0},slug:{type:String,required:!0}},setup(a){const o=pe(),r=te(),s=r.options.history,l=a,e=D({global:{value:void 0,matchMode:"contains"}}),t=D(""),p=D(),w=H(()=>p.value?p.value.reduce((v,E)=>v+E.qty,0):0);async function y(v=!0){e.value.global.value=r.currentRoute.value.query.search,v&&await Promise.all([ce(s,"name",t,()=>ve(l.id)),gt(l.id).then(E=>p.value=E)])}ne(y),ue(r.currentRoute,(v,E)=>y(v.path!==E.path));function c(v,E){if(E===r.currentRoute.value.query[v])return;const n=Object.assign({},o.query);E?n[v]=E:delete n[v],r.push({path:o.fullPath,query:n})}function u(){c("search",e.value.global.value)}const h=["FirstPageLink","PrevPageLink","PageLinks","NextPageLink","LastPageLink","JumpToPageDropdown","CurrentPageReport"].join(" ");function S(v){r.push({name:"game",params:{systemId:l.id,systemSlug:l.slug,id:v.data.uid,slug:v.data.name.toLowerCase().replaceAll(/[^a-z0-9 ]/gi,"").replaceAll(/ /g,"-")},state:{systemName:t.value,name:v.data.name}})}return(v,E)=>(P(),I("main",null,[t.value?(P(),I("h1",xt,M(t.value),1)):Y("",!0),C("p",null,M(p.value?`${w.value.toLocaleString()} codes`:"Loading"),1),p.value?.length?(P(),K(k(de),{key:1,filters:e.value,"onUpdate:filters":E[1]||(E[1]=n=>e.value=n),value:p.value,"data-key":"id","global-filter-fields":["name","version","device.name","system.name"],"selection-mode":"single",size:"small","sort-mode":"multiple",paginator:"","paginator-position":"both","paginator-template":k(h),"page-link-size":8,rows:50,onRowSelect:S},{header:j(()=>[C("div",At,[C("span",Ot,[Pt,A(k(ze),{modelValue:e.value.global.value,"onUpdate:modelValue":E[0]||(E[0]=n=>e.value.global.value=n),placeholder:"Search",onBlur:u},null,8,["modelValue"])])])]),default:j(()=>[A(k(T),{field:"name",header:"Game",sortable:!0}),A(k(T),{field:"version",header:"Version",sortable:!0}),A(k(T),{field:"device.name",header:"Device",sortable:!0}),A(k(T),{field:"system.name",header:"System",sortable:!0}),A(k(T),{header:"Codes",class:"col-1 text-right"},{body:j(n=>[W(M(n.data.qty.toLocaleString()),1)]),_:1})]),_:1},8,["filters","value","global-filter-fields","paginator-template"])):Y("",!0)]))}}),_e=Re({history:Me(),routes:[{component:Lt,name:"home",path:"/",meta:{showInNav:!0}},{component:$t,name:"system",path:"/systems/:id/:slug",props:!0},{component:St,name:"game",path:"/systems/:systemId/:systemSlug/games/:id/:slug",props:!0},{component:()=>le(()=>import("./NotFoundView@Ve1yAmSt.js"),__vite__mapDeps([2,3,4,5]),import.meta.url),name:"not-found",path:"/:params(.*)*"}]});let ie;_e.beforeEach((a,o,r)=>{const s=a.meta;s.title&&(document.title=s.title),ie||(ie=ge()),ie.popFlash(),r()});const re=Ce(nt);re.use(Ne());re.use(_e);re.use(Be);re.mount("#app");
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./themes/viva-light@H8a1X4Aj.css","./themes/viva-dark@qyr74qbj.css","./NotFoundView@Ve1yAmSt.js","./primevue@JRHUw1Xt.js","./vue@VMVV_7_-.js","./primevue@_t5YR9K2.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}