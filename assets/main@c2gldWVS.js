import{I as W,a as T,J as ge,K as ne,o as ke,L as Ee,M as V,f as de,c as O,d as I,y as k,j as E,t as Le,u as P,C as H,i as K,q as X,N as S,O as xe,P as Ae,e as q,Q as Oe,R as re,S as $e,w as me,F as ye,U as je,D as Pe,x as qe,s as Ce,V as Re,W as Me,X as Ne,Y as Te}from"./vue@VMVV_7_-.js";import{s as De,a as Be,b as N,c as fe,d as Ie,P as ze}from"./primevue@JRHUw1Xt.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const e of l)if(e.type==="childList")for(const o of e.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(l){const e={};return l.integrity&&(e.integrity=l.integrity),l.referrerPolicy&&(e.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?e.credentials="include":l.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function s(l){if(l.ep)return;l.ep=!0;const e=r(l);fetch(l.href,e)}})();const Ue=""+new URL("logo@DxTsBerY.png",import.meta.url).href;let ee={scrollX:-1,scrollY:-1};const Y=[];function Ve(){const n=function(){const a={scrollX:window.scrollX,scrollY:window.scrollY};if(a.scrollX!==ee.scrollX||a.scrollY!==ee.scrollY)for(const r of Y)r(a,ee);ee=a,Y.length>0&&requestAnimationFrame(n)};requestAnimationFrame(n)}function He(n){Y.push(n),Y.length===1&&Ve()}function We(n){const a=Y.indexOf(n);a>=0&&Y.splice(a,1)}const Fe=n=>(xe("data-v-151ac467"),n=n(),Ae(),n),Ge=Fe(()=>q("img",{alt:"logo",src:Ue,class:"h-full"},null,-1)),Xe=W({__name:"Navbar",props:{hideOnScroll:Boolean},setup(n){const a=T(null),r=ge(),s=ne(),l=n;function e(v){let d=0;return({scrollY:f},{scrollY:g})=>{if(g!==-1){if(f>g){if(d>=v.scrollHeight)return;d=Math.min(v.scrollHeight,d+(f-g))}else{if(d<=0)return;d=Math.max(0,d+(f-g))}v.style.opacity=(1-d*(1/v.scrollHeight)).toString(),v.style.top=`-${d}px`}}}let o=null;ke(()=>{l.hideOnScroll&&(o=e(a.value),He(o))}),Ee(()=>{o&&We(o)});function m(v){return v.split(/[_-]/).map(d=>d[0].toUpperCase()+d.slice(1)).join(" ")}const y=V(()=>{const v=s.options.routes.filter(f=>f.meta?.showInNav),d=r.path;return v.map(f=>({label:f.meta?.title||m(f.name),selected:f.path===d,target:f.path}))});return(v,d)=>{const f=de("router-link");return O(),I("header",{ref_key:"$el",ref:a,class:"bg-dark sticky py-2",style:{top:"0"}},[k(S(De),{model:y.value,class:"container-lg h-3rem bg-transparent border-none border-noround"},{start:E(()=>[k(f,{to:"/",class:"hidden lg:block",style:{height:"60px"}},{default:E(()=>[Ge]),_:1})]),item:E(({label:g,item:w,item:{target:R}})=>[R?(O(),K(f,{key:0,to:R,class:Le(w.selected?"selected":"")},{default:E(()=>[H(P(g),1)]),_:2},1032,["to","class"])):X("",!0)]),_:1},8,["model"])],512)}}}),Ye=(n,a)=>{const r=n.__vccOpts||n;for(const[s,l]of a)r[s]=l;return r},Ke=Ye(Xe,[["__scopeId","data-v-151ac467"]]),Je=W({__name:"PageHeader",setup(n){return(a,r)=>(O(),K(Ke,{"hide-on-scroll":!0}))}}),ve=Oe("flash",()=>{const n=T(),a=T();function r(l,e="info"){a.value={message:l,severity:e}}function s(){const l=n.value;return n.value=a.value,a.value=void 0,l}return{current:n,setFlash:r,popFlash:s}}),Qe="modulepreload",Ze=function(n,a){return new URL(n,a).href},pe={},ce=function(a,r,s){let l=Promise.resolve();if(r&&r.length>0){const e=document.getElementsByTagName("link");l=Promise.all(r.map(o=>{if(o=Ze(o,s),o in pe)return;pe[o]=!0;const m=o.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(!!s)for(let f=e.length-1;f>=0;f--){const g=e[f];if(g.href===o&&(!m||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${y}`))return;const d=document.createElement("link");if(d.rel=m?"stylesheet":Qe,m||(d.as="script",d.crossOrigin=""),d.href=o,document.head.appendChild(d),m)return new Promise((f,g)=>{d.addEventListener("load",f),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${o}`)))})}))}return l.then(()=>a()).catch(e=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=e,window.dispatchEvent(o),!o.defaultPrevented)throw e})},he={light:{import:()=>ce(()=>Promise.resolve({}),__vite__mapDeps([0]),import.meta.url),media:"(prefers-color-scheme: light)"},dark:{import:()=>ce(()=>Promise.resolve({}),__vite__mapDeps([1]),import.meta.url),media:"screen and (prefers-color-scheme: dark)"}};async function et(n){const a=[...document.querySelectorAll('style[data-vite-dev-id*="/themes/"], link[href*="/themes/"]')].map(s=>({el:s,href:[...s.attributes].find(({value:l})=>l.includes("/themes/"))?.value})).filter(({href:s})=>!!s);let r=a.find(s=>s.href.includes(`-${n}`))?.el;(r?.getAttribute("media")??"disabled")==="disabled"&&(r||await he[n].import(),r=a.find(s=>s.href.includes(`-${n}`))?.el,r?.setAttribute("media",he[n].media??""),a.filter(({el:s})=>s!==r).forEach(({el:s})=>s.setAttribute("media","disabled")))}function tt(){const n=window.matchMedia("(prefers-color-scheme: dark)"),a=T("");function r(s){s.media.includes(": dark")&&(a.value=s.matches?"dark":"light")}re(()=>{n.addEventListener("change",r),a.value=n.matches?"dark":"light"}),$e(()=>{n.removeEventListener("change",r)}),me(a,s=>{if(s)return et(s)})}const nt={key:0,class:"container-lg mt-5"},rt=W({__name:"App",setup(n){const a=ve(),r=V(()=>a.current);return tt(),(s,l)=>(O(),I(ye,null,[k(Je),r.value?(O(),I("div",nt,[k(S(Be),{severity:r.value.severity,closable:!1},{default:E(()=>[H(P(r.value.message),1)]),_:1},8,["severity"])])):X("",!0),k(S(je),{class:"container-lg py-3"})],64))}});var ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_e={exports:{}};(function(n,a){(function(r,s){n.exports=s()})(ot,function(){return(()=>{var r={870:(e,o,m)=>{m.r(o),m.d(o,{createEndpoint:()=>v,expose:()=>R,proxy:()=>Z,proxyMarker:()=>y,releaseProxy:()=>d,transfer:()=>$,transferHandlers:()=>w,windowEndpoint:()=>Se,wrap:()=>t});const y=Symbol("Comlink.proxy"),v=Symbol("Comlink.endpoint"),d=Symbol("Comlink.releaseProxy"),f=Symbol("Comlink.thrown"),g=i=>typeof i=="object"&&i!==null||typeof i=="function",w=new Map([["proxy",{canHandle:i=>g(i)&&i[y],serialize(i){const{port1:h,port2:A}=new MessageChannel;return R(i,h),[A,[A]]},deserialize:i=>(i.start(),t(i))}],["throw",{canHandle:i=>g(i)&&f in i,serialize({value:i}){let h;return h=i instanceof Error?{isError:!0,value:{message:i.message,name:i.name,stack:i.stack}}:{isError:!1,value:i},[h,[]]},deserialize(i){throw i.isError?Object.assign(new Error(i.value.message),i.value):i.value}}]]);function R(i,h=self){h.addEventListener("message",function A(b){if(!b||!b.data)return;const{id:M,type:z,path:L}=Object.assign({path:[]},b.data),C=(b.data.argumentList||[]).map(U);let x;try{const j=L.slice(0,-1).reduce((D,J)=>D[J],i),B=L.reduce((D,J)=>D[J],i);switch(z){case 0:x=B;break;case 1:j[L.slice(-1)[0]]=U(b.data.value),x=!0;break;case 2:x=B.apply(j,C);break;case 3:x=Z(new B(...C));break;case 4:{const{port1:D,port2:J}=new MessageChannel;R(i,J),x=$(D,[D])}break;case 5:x=void 0}}catch(j){x={value:j,[f]:0}}Promise.resolve(x).catch(j=>({value:j,[f]:0})).then(j=>{const[B,D]=ae(j);h.postMessage(Object.assign(Object.assign({},B),{id:M}),D),z===5&&(h.removeEventListener("message",A),F(h))})}),h.start&&h.start()}function F(i){(function(h){return h.constructor.name==="MessagePort"})(i)&&i.close()}function t(i,h){return p(i,[],h)}function c(i){if(i)throw new Error("Proxy has been released and is not useable")}function p(i,h=[],A=function(){}){let b=!1;const M=new Proxy(A,{get(z,L){if(c(b),L===d)return()=>G(i,{type:5,path:h.map(C=>C.toString())}).then(()=>{F(i),b=!0});if(L==="then"){if(h.length===0)return{then:()=>M};const C=G(i,{type:0,path:h.map(x=>x.toString())}).then(U);return C.then.bind(C)}return p(i,[...h,L])},set(z,L,C){c(b);const[x,j]=ae(C);return G(i,{type:1,path:[...h,L].map(B=>B.toString()),value:x},j).then(U)},apply(z,L,C){c(b);const x=h[h.length-1];if(x===v)return G(i,{type:4}).then(U);if(x==="bind")return p(i,h.slice(0,-1));const[j,B]=u(C);return G(i,{type:2,path:h.map(D=>D.toString()),argumentList:j},B).then(U)},construct(z,L){c(b);const[C,x]=u(L);return G(i,{type:3,path:h.map(j=>j.toString()),argumentList:C},x).then(U)}});return M}function u(i){const h=i.map(ae);return[h.map(b=>b[0]),(A=h.map(b=>b[1]),Array.prototype.concat.apply([],A))];var A}const _=new WeakMap;function $(i,h){return _.set(i,h),i}function Z(i){return Object.assign(i,{[y]:!0})}function Se(i,h=self,A="*"){return{postMessage:(b,M)=>i.postMessage(b,A,M),addEventListener:h.addEventListener.bind(h),removeEventListener:h.removeEventListener.bind(h)}}function ae(i){for(const[h,A]of w)if(A.canHandle(i)){const[b,M]=A.serialize(i);return[{type:3,name:h,value:b},M]}return[{type:0,value:i},_.get(i)||[]]}function U(i){switch(i.type){case 3:return w.get(i.name).deserialize(i.value);case 0:return i.value}}function G(i,h,A){return new Promise(b=>{const M=new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-");i.addEventListener("message",function z(L){L.data&&L.data.id&&L.data.id===M&&(i.removeEventListener("message",z),b(L.data))}),i.start&&i.start(),i.postMessage(Object.assign({id:M},h),A)})}},162:function(e,o,m){var y=this&&this.__createBinding||(Object.create?function(t,c,p,u){u===void 0&&(u=p),Object.defineProperty(t,u,{enumerable:!0,get:function(){return c[p]}})}:function(t,c,p,u){u===void 0&&(u=p),t[u]=c[p]}),v=this&&this.__setModuleDefault||(Object.create?function(t,c){Object.defineProperty(t,"default",{enumerable:!0,value:c})}:function(t,c){t.default=c}),d=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var c={};if(t!=null)for(var p in t)p!=="default"&&Object.prototype.hasOwnProperty.call(t,p)&&y(c,t,p);return v(c,t),c};Object.defineProperty(o,"__esModule",{value:!0}),o.createDbWorker=void 0;const f=d(m(870));async function g(t){if(t.data&&t.data.action==="eval"){const c=new Int32Array(t.data.notify,0,2),p=new Uint8Array(t.data.notify,8);let u;try{u={ok:await F(t.data.request)}}catch($){console.error("worker request error",t.data.request,$),u={err:String($)}}const _=new TextEncoder().encode(JSON.stringify(u));p.set(_,0),c[1]=_.length,Atomics.notify(c,0)}}function w(t){if(t.tagName==="BODY")return"body";const c=[];for(;t.parentElement&&t.tagName!=="BODY";){if(t.id){c.unshift("#"+t.id);break}{let p=1,u=t;for(;u.previousElementSibling;)u=u.previousElementSibling,p++;c.unshift(t.tagName.toLowerCase()+":nth-child("+p+")")}t=t.parentElement}return c.join(" > ")}function R(t){return Object.keys(t)}async function F(t){if(console.log("dom vtable request",t),t.type==="select")return[...document.querySelectorAll(t.selector)].map(c=>{const p={};for(const u of t.columns)u==="selector"?p.selector=w(c):u==="parent"?c.parentElement&&(p.parent=c.parentElement?w(c.parentElement):null):u==="idx"||(p[u]=c[u]);return p});if(t.type==="insert"){if(!t.value.parent)throw Error('"parent" column must be set when inserting');const c=document.querySelectorAll(t.value.parent);if(c.length===0)throw Error(`Parent element ${t.value.parent} could not be found`);if(c.length>1)throw Error(`Parent element ${t.value.parent} ambiguous (${c.length} results)`);const p=c[0];if(!t.value.tagName)throw Error("tagName must be set for inserting");const u=document.createElement(t.value.tagName);for(const _ of R(t.value))if(t.value[_]!==null){if(_==="tagName"||_==="parent")continue;if(_==="idx"||_==="selector")throw Error(`${_} can't be set`);u[_]=t.value[_]}return p.appendChild(u),null}if(t.type==="update"){const c=document.querySelector(t.value.selector);if(!c)throw Error(`Element ${t.value.selector} not found!`);const p=[];for(const u of R(t.value)){const _=t.value[u];if(u!=="parent"){if(u!=="idx"&&u!=="selector"&&_!==c[u]){if(console.log("SETTING ",u,c[u],"->",_),u==="tagName")throw Error("can't change tagName");p.push(u)}}else if(_!==w(c.parentElement)){const $=document.querySelectorAll(_);if($.length!==1)throw Error(`Invalid target parent: found ${$.length} matches`);$[0].appendChild(c)}}for(const u of p)c[u]=t.value[u];return null}throw Error(`unknown request ${t.type}`)}f.transferHandlers.set("WORKERSQLPROXIES",{canHandle:t=>!1,serialize(t){throw Error("no")},deserialize:t=>(t.start(),f.wrap(t))}),o.createDbWorker=async function(t,c,p,u=1/0){const _=new Worker(c),$=f.wrap(_),Z=await $.SplitFileHttpDatabase(p,t,void 0,u);return _.addEventListener("message",g),{db:Z,worker:$,configs:t}}},432:function(e,o,m){var y=this&&this.__createBinding||(Object.create?function(d,f,g,w){w===void 0&&(w=g),Object.defineProperty(d,w,{enumerable:!0,get:function(){return f[g]}})}:function(d,f,g,w){w===void 0&&(w=g),d[w]=f[g]}),v=this&&this.__exportStar||function(d,f){for(var g in d)g==="default"||Object.prototype.hasOwnProperty.call(f,g)||y(f,d,g)};Object.defineProperty(o,"__esModule",{value:!0}),v(m(162),o)}},s={};function l(e){var o=s[e];if(o!==void 0)return o.exports;var m=s[e]={exports:{}};return r[e].call(m.exports,m,m.exports,l),m.exports}return l.d=(e,o)=>{for(var m in o)l.o(o,m)&&!l.o(e,m)&&Object.defineProperty(e,m,{enumerable:!0,get:o[m]})},l.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),l.r=e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l(432)})()})})(_e);var at=_e.exports;const st=window.location.href.replace(/[?&#].*$/,"").replace(/\w+\.\w+\/*$/,"").replace(/\/+$/,""),it=new URL(""+new URL("sqlite.worker@zEt9nnv6.js",import.meta.url).href,import.meta.url),lt=new URL(""+new URL("sql-wasm@b-4EaVKI.wasm",import.meta.url).href,import.meta.url),ct=10*1024*1024;function ut(n,a){const r={};for(let s=0;s<n.length;s++)r[n[s]]=a[s];return r}let se;async function dt(){if(!se){const n=window.location.href.match(/:\/\/(?:[0-9]+|localhost|[^\/]+\.local)\b/)?`${st}/data/bsfree.db`:"https://static.mackrodt.io/files/bsfree.4cfee26.db";se=await at.createDbWorker([{from:"inline",config:{serverMode:"full",requestChunkSize:4096,url:n}}],it.toString(),lt.toString(),ct)}return se}const mt=new TextDecoder;function ft(n){const a=new Uint8Array(n.length);for(let r=0;r<n.length;r++)a[r]=n.charCodeAt(r);return mt.decode(a).replaceAll(/&#([0-9]+);/g,(r,s)=>String.fromCharCode(s)).replaceAll("&amp;","&").replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&quot;","'").replaceAll(/<br ?\/?>?/gi,`
`).replaceAll(/br ?\/?>/gi,`
`).replaceAll(/\s*<p>/gi,`
`).replaceAll(/\s*<\/p> */gi,`
`).replaceAll(/<[a-z]+ ?\/?> */gi,"").replaceAll(/<\/[a-z]+> */gi,"").trim()}const pt=new TextEncoder;async function ht(n){const a=await window.crypto.subtle.digest("SHA-256",pt.encode(n));return Array.from(new Uint8Array(a),r=>r.toString(16).padStart(2,"0")).join("")}const ie=new Map;async function Q(n,a){const r=await ht(JSON.stringify({sql:n,params:a}));if(ie.has(r))return ie.get(r);const s=await dt(),l=Date.now();let e;try{e=await s.db.exec(n,a)}finally{console.info("executed statement",{bytesRead:await s.worker.bytesRead,elapsed:Date.now()-l,params:a,sql:n})}s.worker.bytesRead=0;let o=[];return e.length===1&&(o=e[0].values.map(m=>ut(e[0].columns,m.map(y=>typeof y=="string"?ft(y):y)))),ie.set(r,o),o}async function be(n){const a=await Q("select name from systems where id = ?",[n]);if(a.length)return a[0].name}const gt=async()=>await Q(`
  select s1.id, min(s1.name) as name, sum(s2.qty) as qty
  from systems s1
  join systems s2 on s2.group_id = s1.id
  where s1.id in (select distinct group_id from systems)
  group by s1.id
  order by name, s1.id
`);async function yt(n){const a=await Q(`
    select s.id      as system_id,
           s.name    as system_name,
           g.id      as game_uid,
           g.game_id as game_id,
           g.name    as game_name,
           g.version as game_version,
           g.qty     as game_qty,
           d.id      as device_id,
           d.name    as device_name
    from games g
    join systems s on s.id = g.system_id
    join devices d on d.id = g.device_id
    where g.qty > 0 and g.system_id in (select id from systems where group_id = ?)
    order by g.name, g.version, g.id, s.name, s.name, d.name, d.id
  `,[n]),r={},s={},l={};for(const e of a)if(e.device_id in r||(r[e.device_id]={id:e.device_id,name:e.device_name}),e.system_id in s||(s[e.system_id]={id:e.system_id,name:e.system_name}),!(e.game_uid in l)){const o=l[e.game_uid]={uid:e.game_uid,id:e.game_id,name:e.game_name,system:s[e.system_id],device:r[e.device_id],qty:e.game_qty};e.game_version!==null&&(o.version=e.game_version)}return Object.values(l).sort((e,o)=>e.name.localeCompare(o.name)||e.id-o.id||e.device.name.localeCompare(o.device.name)||e.device.id-o.device.id)}async function vt(n){const a=await Q("select name from games where id = ?",[n]);if(a.length)return a[0].name}async function _t(n){const a=await Q(`
    select s.id     as section_id,
           s.name   as section_name,
           c.id      as code_id,
           c.name    as code_name,
           c.note    as code_note,
           c.code    as code_code,
           a.id      as author_id,
           a.name    as author_name
    from codes c
    left join sections s on s.id = c.section_id
    left join authors a on a.id = c.author_id
    where c.game_uid = ?
    order by c.id
  `,[n]),r=[],s={},l={};for(const e of a){const o={id:e.code_id,name:e.code_name,code:e.code_code};e.code_note!==null&&(o.note=e.code_note),e.author_id&&(e.author_id in l||(l[e.author_id]={id:e.author_id,name:e.author_name}),o.author=l[e.author_id]),e.section_id?(e.section_id in s||(s[e.section_id]={id:e.section_id,name:e.section_name,codes:[]}),s[e.section_id].codes.push(o)):r.push(o)}return{codes:r,sections:Object.values(s)}}const bt={class:"mb-1"},wt=W({__name:"CodesTable",props:{group:{type:Object,required:!0}},setup(n){function a(l){const e={};return l.match(/\(M\)|\[M\]|must be/i)&&(e.fontWeight="bold"),e}const r=new RegExp(atob(["Y29ja3N1Y2tpbmdwaWVjZW9mc2hpdA=="].join("|")),"ig");function s(l){return l?.name.replaceAll(/ *[&,;] */g,",").replaceAll(/(\w)@[^ ,]*/g,"$1").replaceAll(r,"").split(",").map(e=>e.trim()).filter(Boolean).sort().join("; ")}return(l,e)=>(O(),K(S(fe),{value:n.group.codes,"data-key":"id",size:"small",class:"text-sm",style:{"white-space":"pre-line"}},Pe({default:E(()=>[k(S(N),{header:"Description",class:"col-3"},{body:E(o=>[q("span",{style:qe(a(o.data.name))},P(o.data.name),5)]),_:1}),k(S(N),{field:"note",header:"Notes",class:"col-4 text-xs text-justify"}),k(S(N),{field:"code",header:"Code",class:"col-2",style:{"font-family":"monospace"}}),k(S(N),{header:"Author",class:"col-3"},{body:E(o=>[H(P(s(o.data.author)),1)]),_:1})]),_:2},[n.group.name?{name:"header",fn:E(()=>[q("h3",bt,P(n.group.name),1)]),key:"0"}:void 0]),1032,["value"]))}});async function ue(n,a,r,s){if(n.state[a])r.value=n.state[a];else{const l=await s();if(l){r.value=l;const e=n.state;e[a]=l,n.replace(n.location,e)}}}const St={key:0,class:"mb-0"},kt=W({__name:"GameView",props:{systemId:{type:String,required:!0},systemSlug:{type:String,required:!0},id:{type:String,required:!0},slug:{type:String,required:!0}},setup(n){const a=ne(),r=n,s=T(""),l=T(""),e=V(()=>l.value&&s.value?`${l.value} - ${s.value}`:void 0),o=T(),m=V(()=>{const d=[];return o.value?.codes.length&&d.push({id:0,codes:o.value.codes}),o.value?.sections.forEach(f=>{d.push({id:f.id,name:f.name,codes:f.codes})}),d}),y=V(()=>o.value?o.value.codes.length+o.value.sections.reduce((d,f)=>d+f.codes.length,0):0);async function v(){const d=a.options.history;await Promise.all([ue(d,"name",l,()=>vt(r.id)),ue(d,"systemName",s,()=>be(r.systemId)),_t(r.id).then(f=>o.value=f)])}return re(v),me(a.currentRoute,v),(d,f)=>(O(),I("main",null,[e.value?(O(),I("h1",St,P(e.value),1)):X("",!0),q("p",null,P(o.value?`${y.value.toLocaleString()} codes`:"Loading"),1),(O(!0),I(ye,null,Ce(m.value,g=>(O(),K(wt,{key:g.id,group:g},null,8,["group"]))),128))]))}});function te(n){return n.toLowerCase().replaceAll(/[^a-z0-9 -]/gi,"").replaceAll(/ /g,"-").replaceAll(/-{2,}/g,"-").replace(/-$/,"")}const Et=q("h1",null,"BSFree Archive",-1),Lt=q("p",null,[H(" This is an unofficial archive of cheat codes contained on "),q("a",{href:"https://web.archive.org/web/20210225044111/http://bsfree.org/",target:"_blank"},"bsfree.org"),H(". ")],-1),xt=["href","onClick"],At=W({__name:"HomeView",setup(n){const a=ne(),r=T(),s=V(()=>r.value?r.value.reduce((m,y)=>m+y.qty,0):0);re(async()=>{r.value=(await gt()).map(m=>{const y=te(m.name);return{...m,slug:y,route:a.resolve({name:"system",params:{id:m.id,slug:te(m.name)}})}})});function l(m){return a.push({...m.route,state:{name:m.name}})}function e(m){return l(m.data)}function o(m,y){return m.preventDefault(),l(y)}return(m,y)=>{const v=de("router-link");return O(),I("main",null,[Et,Lt,q("p",null,P(r.value?`${s.value.toLocaleString()} codes`:"Loading"),1),s.value?(O(),K(S(fe),{key:0,value:r.value,"data-key":"uid","selection-mode":"single",size:"small",class:"pl-0 sm:col-10 md:col-6 xl:col-5",onRowSelect:e},{default:E(()=>[k(S(N),{header:"System",class:"col-10"},{body:E(d=>[k(v,{to:d.data.route,custom:""},{default:E(({href:f})=>[q("a",{class:"row-link",href:f,onClick:g=>o(g,d.data)},P(d.data.name),9,xt)]),_:2},1032,["to"])]),_:1}),k(S(N),{header:"Codes",class:"col-2 text-right"},{body:E(d=>[H(P(d.data.qty.toLocaleString()),1)]),_:1})]),_:1},8,["value"])):X("",!0)])}}}),Ot={key:0},$t={class:"flex justify-content-end"},jt={class:"p-input-icon-left"},Pt=q("i",{class:"pi pi-search"},null,-1),qt=["href","onClick"],Ct=W({__name:"SystemView",props:{id:{type:String,required:!0},slug:{type:String,required:!0}},setup(n){const a=ge(),r=ne(),s=r.options.history,l=n,e=T({global:{value:void 0,matchMode:"contains"}}),o=T(""),m=T(),y=V(()=>m.value?m.value.reduce((t,c)=>t+c.qty,0):0);async function v(t=!0){e.value.global.value=r.currentRoute.value.query.search,t&&await Promise.all([ue(s,"name",o,()=>be(l.id)),yt(l.id).then(c=>m.value=c?.map(p=>{const u=te(p.name);return{...p,slug:u,route:r.resolve({name:"game",params:{systemId:l.id,systemSlug:l.slug,id:p.uid,slug:te(p.name)}})}}))])}re(v),me(r.currentRoute,(t,c)=>v(t.path!==c.path));function d(t,c){if(c===r.currentRoute.value.query[t])return;const p=Object.assign({},a.query);c?p[t]=c:delete p[t],r.push({path:a.fullPath,query:p})}function f(){d("search",e.value.global.value)}const g=["FirstPageLink","PrevPageLink","PageLinks","NextPageLink","LastPageLink","JumpToPageDropdown","CurrentPageReport"].join(" ");function w(t){return r.push({...t.route,state:{systemName:o.value,name:t.name}})}function R(t){return w(t.data)}function F(t,c){return t.preventDefault(),w(c)}return(t,c)=>{const p=de("router-link");return O(),I("main",null,[o.value?(O(),I("h1",Ot,P(o.value),1)):X("",!0),q("p",null,P(m.value?`${y.value.toLocaleString()} codes`:"Loading"),1),m.value?.length?(O(),K(S(fe),{key:1,filters:e.value,"onUpdate:filters":c[1]||(c[1]=u=>e.value=u),value:m.value,"data-key":"id","global-filter-fields":["name","version","device.name","system.name"],"selection-mode":"single",size:"small","sort-mode":"multiple",paginator:"","paginator-position":"both","paginator-template":S(g),"page-link-size":8,rows:50,onRowSelect:R},{header:E(()=>[q("div",$t,[q("span",jt,[Pt,k(S(Ie),{modelValue:e.value.global.value,"onUpdate:modelValue":c[0]||(c[0]=u=>e.value.global.value=u),placeholder:"Search",onBlur:f},null,8,["modelValue"])])])]),default:E(()=>[k(S(N),{header:"Game",sortable:!0},{body:E(u=>[k(p,{to:u.data.route,custom:""},{default:E(({href:_})=>[q("a",{class:"row-link",href:_,onClick:$=>F($,u.data)},P(u.data.name),9,qt)]),_:2},1032,["to"])]),_:1}),k(S(N),{field:"version",header:"Version",sortable:!0}),k(S(N),{field:"device.name",header:"Device",sortable:!0}),k(S(N),{field:"system.name",header:"System",sortable:!0}),k(S(N),{header:"Codes",class:"col-1 text-right"},{body:E(u=>[H(P(u.data.qty.toLocaleString()),1)]),_:1})]),_:1},8,["filters","value","global-filter-fields","paginator-template"])):X("",!0)])}}}),we=Re({history:Me(),routes:[{component:At,name:"home",path:"/",meta:{showInNav:!0}},{component:Ct,name:"system",path:"/systems/:id/:slug",props:!0},{component:kt,name:"game",path:"/systems/:systemId/:systemSlug/games/:id/:slug",props:!0},{component:()=>ce(()=>import("./NotFoundView@Ve1yAmSt.js"),__vite__mapDeps([2,3,4,5]),import.meta.url),name:"not-found",path:"/:params(.*)*"}]});let le;we.beforeEach((n,a,r)=>{const s=n.meta;s.title&&(document.title=s.title),le||(le=ve()),le.popFlash(),r()});const oe=Ne(rt);oe.use(Te());oe.use(we);oe.use(ze);oe.mount("#app");
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./themes/viva-light@H8a1X4Aj.css","./themes/viva-dark@qyr74qbj.css","./NotFoundView@Ve1yAmSt.js","./primevue@JRHUw1Xt.js","./vue@VMVV_7_-.js","./primevue@_t5YR9K2.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}