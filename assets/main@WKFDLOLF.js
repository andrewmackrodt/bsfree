import{I as V,a as C,J as we,K as te,o as be,L as Se,M as W,f as Ee,c as A,d as z,y as x,j as $,t as ke,u as R,C as U,i as Y,q as G,N as b,O as Le,P as xe,e as B,Q as Ae,R as ne,S as Oe,w as ue,F as pe,U as Pe,D as $e,x as je,s as Re,V as Ne,W as qe,X as Me,Y as Ce}from"./vue@VMVV_7_-.js";import{s as Te,a as De,b as q,c as de,P as ze}from"./primevue@SDERQo9H.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const e of i)if(e.type==="childList")for(const t of e.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&a(t)}).observe(document,{childList:!0,subtree:!0});function r(i){const e={};return i.integrity&&(e.integrity=i.integrity),i.referrerPolicy&&(e.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?e.credentials="include":i.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function a(i){if(i.ep)return;i.ep=!0;const e=r(i);fetch(i.href,e)}})();const Be=""+new URL("logo@DxTsBerY.png",import.meta.url).href;let ee={scrollX:-1,scrollY:-1};const X=[];function He(){const n=function(){const o={scrollX:window.scrollX,scrollY:window.scrollY};if(o.scrollX!==ee.scrollX||o.scrollY!==ee.scrollY)for(const r of X)r(o,ee);ee=o,X.length>0&&requestAnimationFrame(n)};requestAnimationFrame(n)}function Ie(n){X.push(n),X.length===1&&He()}function We(n){const o=X.indexOf(n);o>=0&&X.splice(o,1)}const Ue=n=>(Le("data-v-151ac467"),n=n(),xe(),n),Ve=Ue(()=>B("img",{alt:"logo",src:Be,class:"h-full"},null,-1)),Fe=V({__name:"Navbar",props:{hideOnScroll:Boolean},setup(n){const o=C(null),r=we(),a=te(),i=n;function e(h){let l=0;return({scrollY:u},{scrollY:y})=>{if(y!==-1){if(u>y){if(l>=h.scrollHeight)return;l=Math.min(h.scrollHeight,l+(u-y))}else{if(l<=0)return;l=Math.max(0,l+(u-y))}h.style.opacity=(1-l*(1/h.scrollHeight)).toString(),h.style.top=`-${l}px`}}}let t=null;be(()=>{i.hideOnScroll&&(t=e(o.value),Ie(t))}),Se(()=>{t&&We(t)});function p(h){return h.split(/[_-]/).map(l=>l[0].toUpperCase()+l.slice(1)).join(" ")}const w=W(()=>{const h=a.options.routes.filter(u=>u.meta?.showInNav),l=r.path;return h.map(u=>({label:u.meta?.title||p(u.name),selected:u.path===l,target:u.path}))});return(h,l)=>{const u=Ee("router-link");return A(),z("header",{ref_key:"$el",ref:o,class:"bg-dark sticky py-2",style:{top:"0"}},[x(b(Te),{model:w.value,class:"container-lg h-3rem bg-transparent border-none border-noround"},{start:$(()=>[x(u,{to:"/",class:"hidden lg:block",style:{height:"60px"}},{default:$(()=>[Ve]),_:1})]),item:$(({label:y,item:S,item:{target:T}})=>[T?(A(),Y(u,{key:0,to:T,class:ke(S.selected?"selected":"")},{default:$(()=>[U(R(y),1)]),_:2},1032,["to","class"])):G("",!0)]),_:1},8,["model"])],512)}}}),Ge=(n,o)=>{const r=n.__vccOpts||n;for(const[a,i]of o)r[a]=i;return r},Xe=Ge(Fe,[["__scopeId","data-v-151ac467"]]),Ye=V({__name:"PageHeader",setup(n){return(o,r)=>(A(),Y(Xe,{"hide-on-scroll":!0}))}}),he=Ae("flash",()=>{const n=C(),o=C();function r(i,e="info"){o.value={message:i,severity:e}}function a(){const i=n.value;return n.value=o.value,o.value=void 0,i}return{current:n,setFlash:r,popFlash:a}}),Je="modulepreload",Ke=function(n,o){return new URL(n,o).href},me={},ce=function(o,r,a){let i=Promise.resolve();if(r&&r.length>0){const e=document.getElementsByTagName("link");i=Promise.all(r.map(t=>{if(t=Ke(t,a),t in me)return;me[t]=!0;const p=t.endsWith(".css"),w=p?'[rel="stylesheet"]':"";if(!!a)for(let u=e.length-1;u>=0;u--){const y=e[u];if(y.href===t&&(!p||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${t}"]${w}`))return;const l=document.createElement("link");if(l.rel=p?"stylesheet":Je,p||(l.as="script",l.crossOrigin=""),l.href=t,document.head.appendChild(l),p)return new Promise((u,y)=>{l.addEventListener("load",u),l.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${t}`)))})}))}return i.then(()=>o()).catch(e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e})},fe={light:{import:()=>ce(()=>Promise.resolve({}),__vite__mapDeps([0]),import.meta.url),media:"(prefers-color-scheme: light)"},dark:{import:()=>ce(()=>Promise.resolve({}),__vite__mapDeps([1]),import.meta.url),media:"screen and (prefers-color-scheme: dark)"}};async function Ze(n){const o=[...document.querySelectorAll('style[data-vite-dev-id*="/themes/"], link[href*="/themes/"]')].map(a=>({el:a,href:[...a.attributes].find(({value:i})=>i.includes("/themes/"))?.value})).filter(({href:a})=>!!a);let r=o.find(a=>a.href.includes(`-${n}`))?.el;(r?.getAttribute("media")??"disabled")==="disabled"&&(r||await fe[n].import(),r=o.find(a=>a.href.includes(`-${n}`))?.el,r?.setAttribute("media",fe[n].media??""),o.filter(({el:a})=>a!==r).forEach(({el:a})=>a.setAttribute("media","disabled")))}function Qe(){const n=window.matchMedia("(prefers-color-scheme: dark)"),o=C("");function r(a){a.media.includes(": dark")&&(o.value=a.matches?"dark":"light")}ne(()=>{n.addEventListener("change",r),o.value=n.matches?"dark":"light"}),Oe(()=>{n.removeEventListener("change",r)}),ue(o,a=>{if(a)return Ze(a)})}const et={key:0,class:"container-lg mt-5"},tt=V({__name:"App",setup(n){const o=he(),r=W(()=>o.current);return Qe(),(a,i)=>(A(),z(pe,null,[x(Ye),r.value?(A(),z("div",et,[x(b(De),{severity:r.value.severity,closable:!1},{default:$(()=>[U(R(r.value.message),1)]),_:1},8,["severity"])])):G("",!0),x(b(Pe),{class:"container-lg py-3"})],64))}});var nt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ge={exports:{}};(function(n,o){(function(r,a){n.exports=a()})(nt,function(){return(()=>{var r={870:(e,t,p)=>{p.r(t),p.d(t,{createEndpoint:()=>h,expose:()=>T,proxy:()=>Q,proxyMarker:()=>w,releaseProxy:()=>l,transfer:()=>j,transferHandlers:()=>S,windowEndpoint:()=>_e,wrap:()=>c});const w=Symbol("Comlink.proxy"),h=Symbol("Comlink.endpoint"),l=Symbol("Comlink.releaseProxy"),u=Symbol("Comlink.thrown"),y=s=>typeof s=="object"&&s!==null||typeof s=="function",S=new Map([["proxy",{canHandle:s=>y(s)&&s[w],serialize(s){const{port1:f,port2:L}=new MessageChannel;return T(s,f),[L,[L]]},deserialize:s=>(s.start(),c(s))}],["throw",{canHandle:s=>y(s)&&u in s,serialize({value:s}){let f;return f=s instanceof Error?{isError:!0,value:{message:s.message,name:s.name,stack:s.stack}}:{isError:!1,value:s},[f,[]]},deserialize(s){throw s.isError?Object.assign(new Error(s.value.message),s.value):s.value}}]]);function T(s,f=self){f.addEventListener("message",function L(_){if(!_||!_.data)return;const{id:N,type:H,path:E}=Object.assign({path:[]},_.data),P=(_.data.argumentList||[]).map(I);let k;try{const O=E.slice(0,-1).reduce((M,J)=>M[J],s),D=E.reduce((M,J)=>M[J],s);switch(H){case 0:k=D;break;case 1:O[E.slice(-1)[0]]=I(_.data.value),k=!0;break;case 2:k=D.apply(O,P);break;case 3:k=Q(new D(...P));break;case 4:{const{port1:M,port2:J}=new MessageChannel;T(s,J),k=j(M,[M])}break;case 5:k=void 0}}catch(O){k={value:O,[u]:0}}Promise.resolve(k).catch(O=>({value:O,[u]:0})).then(O=>{const[D,M]=ae(O);f.postMessage(Object.assign(Object.assign({},D),{id:N}),M),H===5&&(f.removeEventListener("message",L),Z(f))})}),f.start&&f.start()}function Z(s){(function(f){return f.constructor.name==="MessagePort"})(s)&&s.close()}function c(s,f){return g(s,[],f)}function d(s){if(s)throw new Error("Proxy has been released and is not useable")}function g(s,f=[],L=function(){}){let _=!1;const N=new Proxy(L,{get(H,E){if(d(_),E===l)return()=>F(s,{type:5,path:f.map(P=>P.toString())}).then(()=>{Z(s),_=!0});if(E==="then"){if(f.length===0)return{then:()=>N};const P=F(s,{type:0,path:f.map(k=>k.toString())}).then(I);return P.then.bind(P)}return g(s,[...f,E])},set(H,E,P){d(_);const[k,O]=ae(P);return F(s,{type:1,path:[...f,E].map(D=>D.toString()),value:k},O).then(I)},apply(H,E,P){d(_);const k=f[f.length-1];if(k===h)return F(s,{type:4}).then(I);if(k==="bind")return g(s,f.slice(0,-1));const[O,D]=m(P);return F(s,{type:2,path:f.map(M=>M.toString()),argumentList:O},D).then(I)},construct(H,E){d(_);const[P,k]=m(E);return F(s,{type:3,path:f.map(O=>O.toString()),argumentList:P},k).then(I)}});return N}function m(s){const f=s.map(ae);return[f.map(_=>_[0]),(L=f.map(_=>_[1]),Array.prototype.concat.apply([],L))];var L}const v=new WeakMap;function j(s,f){return v.set(s,f),s}function Q(s){return Object.assign(s,{[w]:!0})}function _e(s,f=self,L="*"){return{postMessage:(_,N)=>s.postMessage(_,L,N),addEventListener:f.addEventListener.bind(f),removeEventListener:f.removeEventListener.bind(f)}}function ae(s){for(const[f,L]of S)if(L.canHandle(s)){const[_,N]=L.serialize(s);return[{type:3,name:f,value:_},N]}return[{type:0,value:s},v.get(s)||[]]}function I(s){switch(s.type){case 3:return S.get(s.name).deserialize(s.value);case 0:return s.value}}function F(s,f,L){return new Promise(_=>{const N=new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-");s.addEventListener("message",function H(E){E.data&&E.data.id&&E.data.id===N&&(s.removeEventListener("message",H),_(E.data))}),s.start&&s.start(),s.postMessage(Object.assign({id:N},f),L)})}},162:function(e,t,p){var w=this&&this.__createBinding||(Object.create?function(c,d,g,m){m===void 0&&(m=g),Object.defineProperty(c,m,{enumerable:!0,get:function(){return d[g]}})}:function(c,d,g,m){m===void 0&&(m=g),c[m]=d[g]}),h=this&&this.__setModuleDefault||(Object.create?function(c,d){Object.defineProperty(c,"default",{enumerable:!0,value:d})}:function(c,d){c.default=d}),l=this&&this.__importStar||function(c){if(c&&c.__esModule)return c;var d={};if(c!=null)for(var g in c)g!=="default"&&Object.prototype.hasOwnProperty.call(c,g)&&w(d,c,g);return h(d,c),d};Object.defineProperty(t,"__esModule",{value:!0}),t.createDbWorker=void 0;const u=l(p(870));async function y(c){if(c.data&&c.data.action==="eval"){const d=new Int32Array(c.data.notify,0,2),g=new Uint8Array(c.data.notify,8);let m;try{m={ok:await Z(c.data.request)}}catch(j){console.error("worker request error",c.data.request,j),m={err:String(j)}}const v=new TextEncoder().encode(JSON.stringify(m));g.set(v,0),d[1]=v.length,Atomics.notify(d,0)}}function S(c){if(c.tagName==="BODY")return"body";const d=[];for(;c.parentElement&&c.tagName!=="BODY";){if(c.id){d.unshift("#"+c.id);break}{let g=1,m=c;for(;m.previousElementSibling;)m=m.previousElementSibling,g++;d.unshift(c.tagName.toLowerCase()+":nth-child("+g+")")}c=c.parentElement}return d.join(" > ")}function T(c){return Object.keys(c)}async function Z(c){if(console.log("dom vtable request",c),c.type==="select")return[...document.querySelectorAll(c.selector)].map(d=>{const g={};for(const m of c.columns)m==="selector"?g.selector=S(d):m==="parent"?d.parentElement&&(g.parent=d.parentElement?S(d.parentElement):null):m==="idx"||(g[m]=d[m]);return g});if(c.type==="insert"){if(!c.value.parent)throw Error('"parent" column must be set when inserting');const d=document.querySelectorAll(c.value.parent);if(d.length===0)throw Error(`Parent element ${c.value.parent} could not be found`);if(d.length>1)throw Error(`Parent element ${c.value.parent} ambiguous (${d.length} results)`);const g=d[0];if(!c.value.tagName)throw Error("tagName must be set for inserting");const m=document.createElement(c.value.tagName);for(const v of T(c.value))if(c.value[v]!==null){if(v==="tagName"||v==="parent")continue;if(v==="idx"||v==="selector")throw Error(`${v} can't be set`);m[v]=c.value[v]}return g.appendChild(m),null}if(c.type==="update"){const d=document.querySelector(c.value.selector);if(!d)throw Error(`Element ${c.value.selector} not found!`);const g=[];for(const m of T(c.value)){const v=c.value[m];if(m!=="parent"){if(m!=="idx"&&m!=="selector"&&v!==d[m]){if(console.log("SETTING ",m,d[m],"->",v),m==="tagName")throw Error("can't change tagName");g.push(m)}}else if(v!==S(d.parentElement)){const j=document.querySelectorAll(v);if(j.length!==1)throw Error(`Invalid target parent: found ${j.length} matches`);j[0].appendChild(d)}}for(const m of g)d[m]=c.value[m];return null}throw Error(`unknown request ${c.type}`)}u.transferHandlers.set("WORKERSQLPROXIES",{canHandle:c=>!1,serialize(c){throw Error("no")},deserialize:c=>(c.start(),u.wrap(c))}),t.createDbWorker=async function(c,d,g,m=1/0){const v=new Worker(d),j=u.wrap(v),Q=await j.SplitFileHttpDatabase(g,c,void 0,m);return v.addEventListener("message",y),{db:Q,worker:j,configs:c}}},432:function(e,t,p){var w=this&&this.__createBinding||(Object.create?function(l,u,y,S){S===void 0&&(S=y),Object.defineProperty(l,S,{enumerable:!0,get:function(){return u[y]}})}:function(l,u,y,S){S===void 0&&(S=y),l[S]=u[y]}),h=this&&this.__exportStar||function(l,u){for(var y in l)y==="default"||Object.prototype.hasOwnProperty.call(u,y)||w(u,l,y)};Object.defineProperty(t,"__esModule",{value:!0}),h(p(162),t)}},a={};function i(e){var t=a[e];if(t!==void 0)return t.exports;var p=a[e]={exports:{}};return r[e].call(p.exports,p,p.exports,i),p.exports}return i.d=(e,t)=>{for(var p in t)i.o(t,p)&&!i.o(e,p)&&Object.defineProperty(e,p,{enumerable:!0,get:t[p]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i(432)})()})})(ge);var rt=ge.exports;const at=window.location.href.replace(/[?&#].*$/,"").replace(/\w+\.\w+\/*$/,"").replace(/\/+$/,""),ot=new URL(""+new URL("sqlite.worker@zEt9nnv6.js",import.meta.url).href,import.meta.url),st=new URL(""+new URL("sql-wasm@b-4EaVKI.wasm",import.meta.url).href,import.meta.url),it=10*1024*1024;function ct(n,o){const r={};for(let a=0;a<n.length;a++)r[n[a]]=o[a];return r}let oe;async function lt(){if(!oe){const n=window.location.href.match(/:\/\/(?:[0-9]+|localhost|[^\/]+\.local)\b/)?`${at}/data/bsfree.db`:"https://api.onedrive.com/v1.0/shares/u!aHR0cHM6Ly8xZHJ2Lm1zL3UvcyFBcGVYWWltRHpQaWRnOVZpN0JyeHBNR21sdTZFN3c_ZT04ZGNocnc/root/content";oe=await rt.createDbWorker([{from:"inline",config:{serverMode:"full",requestChunkSize:4096,url:n}}],ot.toString(),st.toString(),it)}return oe}const ut=new TextDecoder;function dt(n){const o=new Uint8Array(n.length);for(let r=0;r<n.length;r++)o[r]=n.charCodeAt(r);return ut.decode(o).replaceAll(/&#([0-9]+);/g,(r,a)=>String.fromCharCode(a)).replaceAll("&amp;","&").replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&quot;","'").replaceAll(/<br ?\/?>?/gi,`
`).replaceAll(/br ?\/?>/gi,`
`).replaceAll(/\s*<p>/gi,`
`).replaceAll(/\s*<\/p> */gi,`
`).replaceAll(/<[a-z]+ ?\/?> */gi,"").replaceAll(/<\/[a-z]+> */gi,"").trim()}const mt=new TextEncoder;async function ft(n){const o=await window.crypto.subtle.digest("SHA-256",mt.encode(n));return Array.from(new Uint8Array(o),r=>r.toString(16).padStart(2,"0")).join("")}const se=new Map;async function K(n,o){const r=await ft(JSON.stringify({sql:n,params:o}));if(se.has(r))return se.get(r);const a=await lt(),i=Date.now();let e;try{e=await a.db.exec(n,o)}finally{console.info("executed statement",{bytesRead:await a.worker.bytesRead,elapsed:Date.now()-i,params:o,sql:n})}a.worker.bytesRead=0;let t=[];return e.length===1&&(t=e[0].values.map(p=>ct(e[0].columns,p.map(w=>typeof w=="string"?dt(w):w)))),se.set(r,t),t}async function ye(n){const o=await K("select name from systems where id = ?",[n]);if(o.length)return o[0].name}const pt=async()=>await K(`
  select s1.id, min(s1.name) as name, sum(s2.qty) as qty
  from systems s1
  join systems s2 on s2.group_id = s1.id
  where s1.id in (select distinct group_id from systems)
  group by s1.id
  order by name, s1.id
`);async function ht(n){const o=await K(`
    select s.id      as system_id,
           s.name    as system_name,
           g.id      as game_uid,
           g.game_id as game_id,
           g.name    as game_name,
           g.version as game_version,
           g.qty     as game_qty,
           d.id      as device_id,
           d.name    as device_name
    from games g
    join systems s on s.id = g.system_id
    join devices d on d.id = g.device_id
    where g.qty > 0 and g.system_id in (select id from systems where group_id = ?)
    order by g.name, g.version, g.id, s.name, s.name, d.name, d.id
  `,[n]),r={},a={},i={};for(const e of o)if(e.device_id in r||(r[e.device_id]={id:e.device_id,name:e.device_name}),e.system_id in a||(a[e.system_id]={id:e.system_id,name:e.system_name}),!(e.game_uid in i)){const t=i[e.game_uid]={uid:e.game_uid,id:e.game_id,name:e.game_name,system:a[e.system_id],device:r[e.device_id],qty:e.game_qty};e.game_version!==null&&(t.version=e.game_version)}return Object.values(i).sort((e,t)=>e.name.localeCompare(t.name)||e.id-t.id||e.device.name.localeCompare(t.device.name)||e.device.id-t.device.id)}async function gt(n){const o=await K("select name from games where id = ?",[n]);if(o.length)return o[0].name}async function yt(n){const o=await K(`
    select s.id     as section_id,
           s.name   as section_name,
           c.id      as code_id,
           c.name    as code_name,
           c.note    as code_note,
           c.code    as code_code,
           a.id      as author_id,
           a.name    as author_name
    from codes c
    left join sections s on s.id = c.section_id
    left join authors a on a.id = c.author_id
    where c.game_uid = ?
    order by c.id
  `,[n]),r=[],a={},i={};for(const e of o){const t={id:e.code_id,name:e.code_name,code:e.code_code};e.code_note!==null&&(t.note=e.code_note),e.author_id&&(e.author_id in i||(i[e.author_id]={id:e.author_id,name:e.author_name}),t.author=i[e.author_id]),e.section_id?(e.section_id in a||(a[e.section_id]={id:e.section_id,name:e.section_name,codes:[]}),a[e.section_id].codes.push(t)):r.push(t)}return{codes:r,sections:Object.values(a)}}const vt={class:"mb-1"},_t=V({__name:"CodesTable",props:{group:{type:Object,required:!0}},setup(n){function o(i){const e={};return i.match(/\(M\)|\[M\]|must be/i)&&(e.fontWeight="bold"),e}const r=new RegExp(atob(["Y29ja3N1Y2tpbmdwaWVjZW9mc2hpdA=="].join("|")),"ig");function a(i){return i?.name.replaceAll(/ *[&,;] */g,",").replaceAll(/(\w)@[^ ,]*/g,"$1").replaceAll(r,"").split(",").map(e=>e.trim()).filter(Boolean).sort().join("; ")}return(i,e)=>(A(),Y(b(de),{value:n.group.codes,"data-key":"id",size:"small",class:"text-sm",style:{"white-space":"pre-line"}},$e({default:$(()=>[x(b(q),{header:"Description",class:"col-3"},{body:$(t=>[B("span",{style:je(o(t.data.name))},R(t.data.name),5)]),_:1}),x(b(q),{field:"note",header:"Notes",class:"col-4 text-xs text-justify"}),x(b(q),{field:"code",header:"Code",class:"col-2",style:{"font-family":"monospace"}}),x(b(q),{header:"Author",class:"col-3"},{body:$(t=>[U(R(a(t.data.author)),1)]),_:1})]),_:2},[n.group.name?{name:"header",fn:$(()=>[B("h3",vt,R(n.group.name),1)]),key:"0"}:void 0]),1032,["value"]))}});async function le(n,o,r,a){if(n.state[o])r.value=n.state[o];else{const i=await a();if(i){r.value=i;const e=n.state;e[o]=i,n.replace(n.location,e)}}}const wt={key:0,class:"mb-0"},bt=V({__name:"GameView",props:{systemId:{type:String,required:!0},systemSlug:{type:String,required:!0},id:{type:String,required:!0},slug:{type:String,required:!0}},setup(n){const o=te(),r=n,a=C(""),i=C(""),e=W(()=>i.value&&a.value?`${i.value} - ${a.value}`:void 0),t=C(),p=W(()=>{const l=[];return t.value?.codes.length&&l.push({id:0,codes:t.value.codes}),t.value?.sections.forEach(u=>{l.push({id:u.id,name:u.name,codes:u.codes})}),l}),w=W(()=>t.value?t.value.codes.length+t.value.sections.reduce((l,u)=>l+u.codes.length,0):0);async function h(){const l=o.options.history;await Promise.all([le(l,"name",i,()=>gt(r.id)),le(l,"systemName",a,()=>ye(r.systemId)),yt(r.id).then(u=>t.value=u)])}return ne(h),ue(o.currentRoute,h),(l,u)=>(A(),z("main",null,[e.value?(A(),z("h1",wt,R(e.value),1)):G("",!0),B("p",null,R(t.value?`${w.value.toLocaleString()} codes`:"Loading"),1),(A(!0),z(pe,null,Re(p.value,y=>(A(),Y(_t,{key:y.id,group:y},null,8,["group"]))),128))]))}}),St=B("h1",null,"BSFree Archive",-1),Et=B("p",null,[U(" This is an unofficial archive of cheat codes contained on "),B("a",{href:"https://web.archive.org/web/20210225044111/http://bsfree.org/",target:"_blank"},"bsfree.org"),U(". ")],-1),kt=V({__name:"HomeView",setup(n){const o=te(),r=C(),a=W(()=>r.value?r.value.reduce((e,t)=>e+t.qty,0):0);ne(async()=>{r.value=await pt()});function i(e){o.push({name:"system",params:{id:e.data.id,slug:e.data.name.toLowerCase().replaceAll(/[^a-z0-9 ]/gi,"").replaceAll(/ /g,"-")},state:{name:e.data.name}})}return(e,t)=>(A(),z("main",null,[St,Et,B("p",null,R(r.value?`${a.value.toLocaleString()} codes`:"Loading"),1),a.value?(A(),Y(b(de),{key:0,value:r.value,"data-key":"uid","selection-mode":"single",size:"small",class:"pl-0 sm:col-10 md:col-6 xl:col-5",onRowSelect:i},{default:$(()=>[x(b(q),{field:"name",header:"System",class:"col-10"}),x(b(q),{header:"Codes",class:"col-2 text-right"},{body:$(p=>[U(R(p.data.qty.toLocaleString()),1)]),_:1})]),_:1},8,["value"])):G("",!0)]))}}),Lt={key:0},xt=V({__name:"SystemView",props:{id:{type:String,required:!0},slug:{type:String,required:!0}},setup(n){const o=te(),r=n,a=C(""),i=C(),e=W(()=>i.value?i.value.reduce((h,l)=>h+l.qty,0):0);async function t(){const h=o.options.history;await Promise.all([le(h,"name",a,()=>ye(r.id)),ht(r.id).then(l=>i.value=l)])}ne(t),ue(o.currentRoute,t);const p=["FirstPageLink","PrevPageLink","PageLinks","NextPageLink","LastPageLink","JumpToPageDropdown","CurrentPageReport"].join(" ");function w(h){o.push({name:"game",params:{systemId:r.id,systemSlug:r.slug,id:h.data.uid,slug:h.data.name.toLowerCase().replaceAll(/[^a-z0-9 ]/gi,"").replaceAll(/ /g,"-")},state:{systemName:a.value,name:h.data.name}})}return(h,l)=>(A(),z("main",null,[a.value?(A(),z("h1",Lt,R(a.value),1)):G("",!0),B("p",null,R(i.value?`${e.value.toLocaleString()} codes`:"Loading"),1),i.value?.length?(A(),Y(b(de),{key:1,value:i.value,"data-key":"id","selection-mode":"single",size:"small","sort-mode":"multiple",paginator:"","paginator-position":"both","paginator-template":b(p),"page-link-size":8,rows:50,"state-storage":"session","state-key":`dt-system-session-${r.id}`,onRowSelect:w},{default:$(()=>[x(b(q),{field:"name",header:"Game",sortable:!0}),x(b(q),{field:"version",header:"Version",sortable:!0}),x(b(q),{field:"device.name",header:"Device",sortable:!0}),x(b(q),{field:"system.name",header:"System",sortable:!0}),x(b(q),{header:"Codes",class:"col-1 text-right"},{body:$(u=>[U(R(u.data.qty.toLocaleString()),1)]),_:1})]),_:1},8,["value","paginator-template","state-key"])):G("",!0)]))}}),ve=Ne({history:qe(),routes:[{component:kt,name:"home",path:"/",meta:{showInNav:!0}},{component:xt,name:"system",path:"/systems/:id/:slug",props:!0},{component:bt,name:"game",path:"/systems/:systemId/:systemSlug/games/:id/:slug",props:!0},{component:()=>ce(()=>import("./NotFoundView@yM4ljRwH.js"),__vite__mapDeps([2,3,4,5]),import.meta.url),name:"not-found",path:"/:params(.*)*"}]});let ie;ve.beforeEach((n,o,r)=>{const a=n.meta;a.title&&(document.title=a.title),ie||(ie=he()),ie.popFlash(),r()});const re=Me(tt);re.use(Ce());re.use(ve);re.use(ze);re.mount("#app");
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./themes/viva-light@H8a1X4Aj.css","./themes/viva-dark@qyr74qbj.css","./NotFoundView@yM4ljRwH.js","./primevue@SDERQo9H.js","./vue@VMVV_7_-.js","./primevue@_t5YR9K2.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}