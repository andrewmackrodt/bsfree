import{I as Y,a as T,J as we,K as te,o as be,L as Se,M as V,f as Ee,c as $,d as H,y as x,j as R,t as ke,u as N,C as F,i as K,q as G,N as S,O as Le,P as xe,e as I,Q as Oe,R as ne,S as Pe,w as ue,F as pe,U as $e,s as je,D as Re,x as Ae,V as Ne,W as Me,X as qe,Y as Ce}from"./vue@VMVV_7_-.js";import{s as Te,a as Be,b as q,c as de,P as De}from"./primevue@SDERQo9H.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const e of c)if(e.type==="childList")for(const n of e.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function i(c){const e={};return c.integrity&&(e.integrity=c.integrity),c.referrerPolicy&&(e.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?e.credentials="include":c.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function r(c){if(c.ep)return;c.ep=!0;const e=i(c);fetch(c.href,e)}})();const He=""+new URL("logo@DxTsBerY.png",import.meta.url).href;let ee={scrollX:-1,scrollY:-1};const X=[];function Ie(){const o=function(){const s={scrollX:window.scrollX,scrollY:window.scrollY};if(s.scrollX!==ee.scrollX||s.scrollY!==ee.scrollY)for(const i of X)i(s,ee);ee=s,X.length>0&&requestAnimationFrame(o)};requestAnimationFrame(o)}function ze(o){X.push(o),X.length===1&&Ie()}function We(o){const s=X.indexOf(o);s>=0&&X.splice(s,1)}const Ve=o=>(Le("data-v-151ac467"),o=o(),xe(),o),Fe=Ve(()=>I("img",{alt:"logo",src:He,class:"h-full"},null,-1)),Ue=Y({__name:"Navbar",props:{hideOnScroll:Boolean},setup(o){const s=T(null),i=we(),r=te(),c=o;function e(g){let d=0;return({scrollY:f},{scrollY:v})=>{if(v!==-1){if(f>v){if(d>=g.scrollHeight)return;d=Math.min(g.scrollHeight,d+(f-v))}else{if(d<=0)return;d=Math.max(0,d+(f-v))}g.style.opacity=(1-d*(1/g.scrollHeight)).toString(),g.style.top=`-${d}px`}}}let n=null;be(()=>{c.hideOnScroll&&(n=e(s.value),ze(n))}),Se(()=>{n&&We(n)});function p(g){return g.split(/[_-]/).map(d=>d[0].toUpperCase()+d.slice(1)).join(" ")}const O=V(()=>{const g=r.options.routes.filter(f=>f.meta?.showInNav),d=i.path;return g.map(f=>({label:f.meta?.title||p(f.name),selected:f.path===d,target:f.path}))});return(g,d)=>{const f=Ee("router-link");return $(),H("header",{ref_key:"$el",ref:s,class:"bg-dark sticky py-2",style:{top:"0"}},[x(S(Te),{model:O.value,class:"container-lg h-3rem bg-transparent border-none border-noround"},{start:R(()=>[x(f,{to:"/",class:"hidden lg:block",style:{height:"60px"}},{default:R(()=>[Fe]),_:1})]),item:R(({label:v,item:h,item:{target:_}})=>[_?($(),K(f,{key:0,to:_,class:ke(h.selected?"selected":"")},{default:R(()=>[F(N(v),1)]),_:2},1032,["to","class"])):G("",!0)]),_:1},8,["model"])],512)}}}),Ge=(o,s)=>{const i=o.__vccOpts||o;for(const[r,c]of s)i[r]=c;return i},Xe=Ge(Ue,[["__scopeId","data-v-151ac467"]]),Ye=Y({__name:"PageHeader",setup(o){return(s,i)=>($(),K(Xe,{"hide-on-scroll":!0}))}}),he=Oe("flash",()=>{const o=T(),s=T();function i(c,e="info"){s.value={message:c,severity:e}}function r(){const c=o.value;return o.value=s.value,s.value=void 0,c}return{current:o,setFlash:i,popFlash:r}}),Je="modulepreload",Ke=function(o,s){return new URL(o,s).href},me={},ce=function(s,i,r){let c=Promise.resolve();if(i&&i.length>0){const e=document.getElementsByTagName("link");c=Promise.all(i.map(n=>{if(n=Ke(n,r),n in me)return;me[n]=!0;const p=n.endsWith(".css"),O=p?'[rel="stylesheet"]':"";if(!!r)for(let f=e.length-1;f>=0;f--){const v=e[f];if(v.href===n&&(!p||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${O}`))return;const d=document.createElement("link");if(d.rel=p?"stylesheet":Je,p||(d.as="script",d.crossOrigin=""),d.href=n,document.head.appendChild(d),p)return new Promise((f,v)=>{d.addEventListener("load",f),d.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${n}`)))})}))}return c.then(()=>s()).catch(e=>{const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=e,window.dispatchEvent(n),!n.defaultPrevented)throw e})},fe={light:{import:()=>ce(()=>Promise.resolve({}),__vite__mapDeps([0]),import.meta.url),media:"(prefers-color-scheme: light)"},dark:{import:()=>ce(()=>Promise.resolve({}),__vite__mapDeps([1]),import.meta.url),media:"screen and (prefers-color-scheme: dark)"}};async function Ze(o){const s=[...document.querySelectorAll('style[data-vite-dev-id*="/themes/"], link[href*="/themes/"]')].map(r=>({el:r,href:[...r.attributes].find(({value:c})=>c.includes("/themes/"))?.value})).filter(({href:r})=>!!r);let i=s.find(r=>r.href.includes(`-${o}`))?.el;(i?.getAttribute("media")??"disabled")==="disabled"&&(i||await fe[o].import(),i=s.find(r=>r.href.includes(`-${o}`))?.el,i?.setAttribute("media",fe[o].media??""),s.filter(({el:r})=>r!==i).forEach(({el:r})=>r.setAttribute("media","disabled")))}function Qe(){const o=window.matchMedia("(prefers-color-scheme: dark)"),s=T("");function i(r){r.media.includes(": dark")&&(s.value=r.matches?"dark":"light")}ne(()=>{o.addEventListener("change",i),s.value=o.matches?"dark":"light"}),Pe(()=>{o.removeEventListener("change",i)}),ue(s,r=>{if(r)return Ze(r)})}const et={key:0,class:"container-lg mt-5"},tt=Y({__name:"App",setup(o){const s=he(),i=V(()=>s.current);return Qe(),(r,c)=>($(),H(pe,null,[x(Ye),i.value?($(),H("div",et,[x(S(Be),{severity:i.value.severity,closable:!1},{default:R(()=>[F(N(i.value.message),1)]),_:1},8,["severity"])])):G("",!0),x(S($e),{class:"container-lg py-3"})],64))}});var nt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ge={exports:{}};(function(o,s){(function(i,r){o.exports=r()})(nt,function(){return(()=>{var i={870:(e,n,p)=>{p.r(n),p.d(n,{createEndpoint:()=>g,expose:()=>_,proxy:()=>Q,proxyMarker:()=>O,releaseProxy:()=>d,transfer:()=>A,transferHandlers:()=>h,windowEndpoint:()=>_e,wrap:()=>t});const O=Symbol("Comlink.proxy"),g=Symbol("Comlink.endpoint"),d=Symbol("Comlink.releaseProxy"),f=Symbol("Comlink.thrown"),v=a=>typeof a=="object"&&a!==null||typeof a=="function",h=new Map([["proxy",{canHandle:a=>v(a)&&a[O],serialize(a){const{port1:m,port2:L}=new MessageChannel;return _(a,m),[L,[L]]},deserialize:a=>(a.start(),t(a))}],["throw",{canHandle:a=>v(a)&&f in a,serialize({value:a}){let m;return m=a instanceof Error?{isError:!0,value:{message:a.message,name:a.name,stack:a.stack}}:{isError:!1,value:a},[m,[]]},deserialize(a){throw a.isError?Object.assign(new Error(a.value.message),a.value):a.value}}]]);function _(a,m=self){m.addEventListener("message",function L(b){if(!b||!b.data)return;const{id:M,type:z,path:E}=Object.assign({path:[]},b.data),j=(b.data.argumentList||[]).map(W);let k;try{const P=E.slice(0,-1).reduce((C,J)=>C[J],a),D=E.reduce((C,J)=>C[J],a);switch(z){case 0:k=D;break;case 1:P[E.slice(-1)[0]]=W(b.data.value),k=!0;break;case 2:k=D.apply(P,j);break;case 3:k=Q(new D(...j));break;case 4:{const{port1:C,port2:J}=new MessageChannel;_(a,J),k=A(C,[C])}break;case 5:k=void 0}}catch(P){k={value:P,[f]:0}}Promise.resolve(k).catch(P=>({value:P,[f]:0})).then(P=>{const[D,C]=ae(P);m.postMessage(Object.assign(Object.assign({},D),{id:M}),C),z===5&&(m.removeEventListener("message",L),B(m))})}),m.start&&m.start()}function B(a){(function(m){return m.constructor.name==="MessagePort"})(a)&&a.close()}function t(a,m){return y(a,[],m)}function l(a){if(a)throw new Error("Proxy has been released and is not useable")}function y(a,m=[],L=function(){}){let b=!1;const M=new Proxy(L,{get(z,E){if(l(b),E===d)return()=>U(a,{type:5,path:m.map(j=>j.toString())}).then(()=>{B(a),b=!0});if(E==="then"){if(m.length===0)return{then:()=>M};const j=U(a,{type:0,path:m.map(k=>k.toString())}).then(W);return j.then.bind(j)}return y(a,[...m,E])},set(z,E,j){l(b);const[k,P]=ae(j);return U(a,{type:1,path:[...m,E].map(D=>D.toString()),value:k},P).then(W)},apply(z,E,j){l(b);const k=m[m.length-1];if(k===g)return U(a,{type:4}).then(W);if(k==="bind")return y(a,m.slice(0,-1));const[P,D]=u(j);return U(a,{type:2,path:m.map(C=>C.toString()),argumentList:P},D).then(W)},construct(z,E){l(b);const[j,k]=u(E);return U(a,{type:3,path:m.map(P=>P.toString()),argumentList:j},k).then(W)}});return M}function u(a){const m=a.map(ae);return[m.map(b=>b[0]),(L=m.map(b=>b[1]),Array.prototype.concat.apply([],L))];var L}const w=new WeakMap;function A(a,m){return w.set(a,m),a}function Q(a){return Object.assign(a,{[O]:!0})}function _e(a,m=self,L="*"){return{postMessage:(b,M)=>a.postMessage(b,L,M),addEventListener:m.addEventListener.bind(m),removeEventListener:m.removeEventListener.bind(m)}}function ae(a){for(const[m,L]of h)if(L.canHandle(a)){const[b,M]=L.serialize(a);return[{type:3,name:m,value:b},M]}return[{type:0,value:a},w.get(a)||[]]}function W(a){switch(a.type){case 3:return h.get(a.name).deserialize(a.value);case 0:return a.value}}function U(a,m,L){return new Promise(b=>{const M=new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-");a.addEventListener("message",function z(E){E.data&&E.data.id&&E.data.id===M&&(a.removeEventListener("message",z),b(E.data))}),a.start&&a.start(),a.postMessage(Object.assign({id:M},m),L)})}},162:function(e,n,p){var O=this&&this.__createBinding||(Object.create?function(t,l,y,u){u===void 0&&(u=y),Object.defineProperty(t,u,{enumerable:!0,get:function(){return l[y]}})}:function(t,l,y,u){u===void 0&&(u=y),t[u]=l[y]}),g=this&&this.__setModuleDefault||(Object.create?function(t,l){Object.defineProperty(t,"default",{enumerable:!0,value:l})}:function(t,l){t.default=l}),d=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var l={};if(t!=null)for(var y in t)y!=="default"&&Object.prototype.hasOwnProperty.call(t,y)&&O(l,t,y);return g(l,t),l};Object.defineProperty(n,"__esModule",{value:!0}),n.createDbWorker=void 0;const f=d(p(870));async function v(t){if(t.data&&t.data.action==="eval"){const l=new Int32Array(t.data.notify,0,2),y=new Uint8Array(t.data.notify,8);let u;try{u={ok:await B(t.data.request)}}catch(A){console.error("worker request error",t.data.request,A),u={err:String(A)}}const w=new TextEncoder().encode(JSON.stringify(u));y.set(w,0),l[1]=w.length,Atomics.notify(l,0)}}function h(t){if(t.tagName==="BODY")return"body";const l=[];for(;t.parentElement&&t.tagName!=="BODY";){if(t.id){l.unshift("#"+t.id);break}{let y=1,u=t;for(;u.previousElementSibling;)u=u.previousElementSibling,y++;l.unshift(t.tagName.toLowerCase()+":nth-child("+y+")")}t=t.parentElement}return l.join(" > ")}function _(t){return Object.keys(t)}async function B(t){if(console.log("dom vtable request",t),t.type==="select")return[...document.querySelectorAll(t.selector)].map(l=>{const y={};for(const u of t.columns)u==="selector"?y.selector=h(l):u==="parent"?l.parentElement&&(y.parent=l.parentElement?h(l.parentElement):null):u==="idx"||(y[u]=l[u]);return y});if(t.type==="insert"){if(!t.value.parent)throw Error('"parent" column must be set when inserting');const l=document.querySelectorAll(t.value.parent);if(l.length===0)throw Error(`Parent element ${t.value.parent} could not be found`);if(l.length>1)throw Error(`Parent element ${t.value.parent} ambiguous (${l.length} results)`);const y=l[0];if(!t.value.tagName)throw Error("tagName must be set for inserting");const u=document.createElement(t.value.tagName);for(const w of _(t.value))if(t.value[w]!==null){if(w==="tagName"||w==="parent")continue;if(w==="idx"||w==="selector")throw Error(`${w} can't be set`);u[w]=t.value[w]}return y.appendChild(u),null}if(t.type==="update"){const l=document.querySelector(t.value.selector);if(!l)throw Error(`Element ${t.value.selector} not found!`);const y=[];for(const u of _(t.value)){const w=t.value[u];if(u!=="parent"){if(u!=="idx"&&u!=="selector"&&w!==l[u]){if(console.log("SETTING ",u,l[u],"->",w),u==="tagName")throw Error("can't change tagName");y.push(u)}}else if(w!==h(l.parentElement)){const A=document.querySelectorAll(w);if(A.length!==1)throw Error(`Invalid target parent: found ${A.length} matches`);A[0].appendChild(l)}}for(const u of y)l[u]=t.value[u];return null}throw Error(`unknown request ${t.type}`)}f.transferHandlers.set("WORKERSQLPROXIES",{canHandle:t=>!1,serialize(t){throw Error("no")},deserialize:t=>(t.start(),f.wrap(t))}),n.createDbWorker=async function(t,l,y,u=1/0){const w=new Worker(l),A=f.wrap(w),Q=await A.SplitFileHttpDatabase(y,t,void 0,u);return w.addEventListener("message",v),{db:Q,worker:A,configs:t}}},432:function(e,n,p){var O=this&&this.__createBinding||(Object.create?function(d,f,v,h){h===void 0&&(h=v),Object.defineProperty(d,h,{enumerable:!0,get:function(){return f[v]}})}:function(d,f,v,h){h===void 0&&(h=v),d[h]=f[v]}),g=this&&this.__exportStar||function(d,f){for(var v in d)v==="default"||Object.prototype.hasOwnProperty.call(f,v)||O(f,d,v)};Object.defineProperty(n,"__esModule",{value:!0}),g(p(162),n)}},r={};function c(e){var n=r[e];if(n!==void 0)return n.exports;var p=r[e]={exports:{}};return i[e].call(p.exports,p,p.exports,c),p.exports}return c.d=(e,n)=>{for(var p in n)c.o(n,p)&&!c.o(e,p)&&Object.defineProperty(e,p,{enumerable:!0,get:n[p]})},c.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),c.r=e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c(432)})()})})(ge);var rt=ge.exports;const at=window.location.href.replace(/[?&#].*$/,"").replace(/\w+\.\w+\/*$/,"").replace(/\/+$/,""),ot=new URL(""+new URL("sqlite.worker@zEt9nnv6.js",import.meta.url).href,import.meta.url),st=new URL(""+new URL("sql-wasm@b-4EaVKI.wasm",import.meta.url).href,import.meta.url),it=10*1024*1024;function ct(o,s){const i={};for(let r=0;r<o.length;r++)i[o[r]]=s[r];return i}let oe;async function lt(){if(!oe){const o=window.location.href.match(/:\/\/(?:[0-9]+|localhost|[^\/]+\.local)\b/)?`${at}/data/bsfree.db`:"https://api.onedrive.com/v1.0/shares/u!aHR0cHM6Ly8xZHJ2Lm1zL3UvcyFBcGVYWWltRHpQaWRnOVZpN0JyeHBNR21sdTZFN3c_ZT04ZGNocnc/root/content";oe=await rt.createDbWorker([{from:"inline",config:{serverMode:"full",requestChunkSize:4096,url:o}}],ot.toString(),st.toString(),it)}return oe}const ut=new TextEncoder;async function dt(o){const s=await window.crypto.subtle.digest("SHA-256",ut.encode(o));return Array.from(new Uint8Array(s),i=>i.toString(16).padStart(2,"0")).join("")}const se=new Map;async function Z(o,s){const i=await dt(JSON.stringify({sql:o,params:s}));if(se.has(i))return se.get(i);const r=await lt(),c=Date.now();let e;try{e=await r.db.exec(o,s)}finally{console.info("executed statement",{bytesRead:await r.worker.bytesRead,elapsed:Date.now()-c,params:s,sql:o})}r.worker.bytesRead=0;let n=[];return e.length===1&&(n=e[0].values.map(p=>ct(e[0].columns,p))),se.set(i,n),n}async function ye(o){const s=await Z("select name from systems where id = ?",[o]);if(s.length)return s[0].name}const mt=async()=>await Z(`
  select s1.id, min(s1.name) as name, sum(s2.qty) as qty
  from systems s1
  join systems s2 on s2.group_id = s1.id
  where s1.id in (select distinct group_id from systems)
  group by s1.id
  order by name, s1.id
`);async function ft(o){const s=await Z(`
    select s.id      as system_id,
           s.name    as system_name,
           g.id      as game_uid,
           g.game_id as game_id,
           g.name    as game_name,
           g.version as game_version,
           g.qty     as game_qty,
           d.id      as device_id,
           d.name    as device_name
    from games g
    join systems s on s.id = g.system_id
    join devices d on d.id = g.device_id
    where g.qty > 0 and g.system_id in (select id from systems where group_id = ?)
    order by g.name, g.version, g.id, s.name, s.name, d.name, d.id
  `,[o]),i={},r={},c={};for(const e of s)if(e.device_id in i||(i[e.device_id]={id:e.device_id,name:e.device_name}),e.system_id in r||(r[e.system_id]={id:e.system_id,name:e.system_name}),!(e.game_uid in c)){const n=c[e.game_uid]={uid:e.game_uid,id:e.game_id,name:e.game_name,system:r[e.system_id],device:i[e.device_id],qty:e.game_qty};e.game_version!==null&&(n.version=e.game_version)}return Object.values(c).sort((e,n)=>e.name.localeCompare(n.name)||e.id-n.id||e.device.name.localeCompare(n.device.name)||e.device.id-n.device.id)}async function pt(o){const s=await Z("select name from games where id = ?",[o]);if(s.length)return s[0].name}async function ht(o){const s=await Z(`
    select s.id     as section_id,
           s.name   as section_name,
           c.id      as code_id,
           c.name    as code_name,
           c.note    as code_note,
           c.code    as code_code,
           a.id      as author_id,
           a.name    as author_name
    from codes c
    left join sections s on s.id = c.section_id
    left join authors a on a.id = c.author_id
    where c.game_uid = ?
    order by c.id
  `,[o]),i=[],r={},c={};for(const e of s){const n={id:e.code_id,name:e.code_name,code:e.code_code};e.code_note!==null&&(n.note=e.code_note),e.author_id&&(e.author_id in c||(c[e.author_id]={id:e.author_id,name:e.author_name}),n.author=c[e.author_id]),e.section_id?(e.section_id in r||(r[e.section_id]={id:e.section_id,name:e.section_name,codes:[]}),r[e.section_id].codes.push(n)):i.push(n)}return{codes:i,sections:Object.values(r)}}async function le(o,s,i,r){if(o.state[s])i.value=o.state[s];else{const c=await r();if(c){i.value=c;const e=o.state;e[s]=c,o.replace(o.location,e)}}}const gt={key:0,class:"mb-0"},yt={class:"mb-1"},vt=Y({__name:"GameView",props:{systemId:{type:String,required:!0},systemSlug:{type:String,required:!0},id:{type:String,required:!0},slug:{type:String,required:!0}},setup(o){const s=te(),i=o,r=T(""),c=T(""),e=V(()=>c.value&&r.value?`${c.value} - ${r.value}`:void 0),n=T(),p=V(()=>{const h=[];return n.value?.codes.length&&h.push({id:0,codes:n.value.codes}),n.value?.sections.forEach(_=>{h.push({id:_.id,name:_.name,codes:_.codes})}),h}),O=V(()=>n.value?n.value.codes.length+n.value.sections.reduce((h,_)=>h+_.codes.length,0):0);async function g(){const h=s.options.history;await Promise.all([le(h,"name",c,()=>pt(i.id)),le(h,"systemName",r,()=>ye(i.systemId)),ht(i.id).then(_=>n.value=_)])}ne(g),ue(s.currentRoute,g);function d(h){const _={};return h.match(/\(M\)|\[M\]|must be/i)&&(_.fontWeight="bold"),_}const f=new RegExp(atob(["Y29ja3N1Y2tpbmdwaWVjZW9mc2hpdA=="].join("|")),"ig");function v(h){return h?.name.replaceAll(/ *[&,;] */g,",").replaceAll(/(\w)@[^ ,]*/g,"$1").replaceAll(f,"").split(",").map(_=>_.trim()).filter(Boolean).sort().join("; ")}return(h,_)=>($(),H("main",null,[e.value?($(),H("h1",gt,N(e.value),1)):G("",!0),I("p",null,N(n.value?`${O.value.toLocaleString()} codes`:"Loading"),1),($(!0),H(pe,null,je(p.value,B=>($(),K(S(de),{key:B.id,value:B.codes,"data-key":"id",size:"small",class:"text-sm",style:{"white-space":"pre-line"}},Re({default:R(()=>[x(S(q),{header:"Description",class:"col-3"},{body:R(t=>[I("span",{style:Ae(d(t.data.name))},N(t.data.name),5)]),_:1}),x(S(q),{field:"note",header:"Notes",class:"col-4 text-xs text-justify"}),x(S(q),{field:"code",header:"Code",class:"col-2",style:{"font-family":"monospace"}}),x(S(q),{header:"Author",class:"col-3"},{body:R(t=>[F(N(v(t.data.author)),1)]),_:1})]),_:2},[B.name?{name:"header",fn:R(()=>[I("h3",yt,N(B.name),1)]),key:"0"}:void 0]),1032,["value"]))),128))]))}}),_t=I("h1",null,"BSFree Archive",-1),wt=I("p",null,[F(" This is an unofficial archive of cheat codes contained on "),I("a",{href:"https://web.archive.org/web/20210225044111/http://bsfree.org/",target:"_blank"},"bsfree.org"),F(". ")],-1),bt=Y({__name:"HomeView",setup(o){const s=te(),i=T(),r=V(()=>i.value?i.value.reduce((e,n)=>e+n.qty,0):0);ne(async()=>{i.value=await mt()});function c(e){s.push({name:"system",params:{id:e.data.id,slug:e.data.name.toLowerCase().replaceAll(/[^a-z0-9 ]/gi,"").replaceAll(/ /g,"-")},state:{name:e.data.name}})}return(e,n)=>($(),H("main",null,[_t,wt,I("p",null,N(i.value?`${r.value.toLocaleString()} codes`:"Loading"),1),r.value?($(),K(S(de),{key:0,value:i.value,"data-key":"uid","selection-mode":"single",size:"small",class:"pl-0 sm:col-10 md:col-6 xl:col-5",onRowSelect:c},{default:R(()=>[x(S(q),{field:"name",header:"System",class:"col-10"}),x(S(q),{header:"Codes",class:"col-2 text-right"},{body:R(p=>[F(N(p.data.qty.toLocaleString()),1)]),_:1})]),_:1},8,["value"])):G("",!0)]))}}),St={key:0},Et=Y({__name:"SystemView",props:{id:{type:String,required:!0},slug:{type:String,required:!0}},setup(o){const s=te(),i=o,r=T(""),c=T(),e=V(()=>c.value?c.value.reduce((g,d)=>g+d.qty,0):0);async function n(){const g=s.options.history;await Promise.all([le(g,"name",r,()=>ye(i.id)),ft(i.id).then(d=>c.value=d)])}ne(n),ue(s.currentRoute,n);const p=["FirstPageLink","PrevPageLink","PageLinks","NextPageLink","LastPageLink","JumpToPageDropdown","CurrentPageReport"].join(" ");function O(g){s.push({name:"game",params:{systemId:i.id,systemSlug:i.slug,id:g.data.uid,slug:g.data.name.toLowerCase().replaceAll(/[^a-z0-9 ]/gi,"").replaceAll(/ /g,"-")},state:{systemName:r.value,name:g.data.name}})}return(g,d)=>($(),H("main",null,[r.value?($(),H("h1",St,N(r.value),1)):G("",!0),I("p",null,N(c.value?`${e.value.toLocaleString()} codes`:"Loading"),1),c.value?.length?($(),K(S(de),{key:1,value:c.value,"data-key":"id","selection-mode":"single",size:"small","sort-mode":"multiple",paginator:"","paginator-position":"both","paginator-template":S(p),"page-link-size":8,rows:50,"state-storage":"session","state-key":`dt-system-session-${i.id}`,onRowSelect:O},{default:R(()=>[x(S(q),{field:"name",header:"Game",sortable:!0}),x(S(q),{field:"version",header:"Version",sortable:!0}),x(S(q),{field:"device.name",header:"Device",sortable:!0}),x(S(q),{field:"system.name",header:"System",sortable:!0}),x(S(q),{header:"Codes",class:"col-1 text-right"},{body:R(f=>[F(N(f.data.qty.toLocaleString()),1)]),_:1})]),_:1},8,["value","paginator-template","state-key"])):G("",!0)]))}}),ve=Ne({history:Me(),routes:[{component:bt,name:"home",path:"/",meta:{showInNav:!0}},{component:Et,name:"system",path:"/systems/:id/:slug",props:!0},{component:vt,name:"game",path:"/systems/:systemId/:systemSlug/games/:id/:slug",props:!0},{component:()=>ce(()=>import("./NotFoundView@yM4ljRwH.js"),__vite__mapDeps([2,3,4,5]),import.meta.url),name:"not-found",path:"/:params(.*)*"}]});let ie;ve.beforeEach((o,s,i)=>{const r=o.meta;r.title&&(document.title=r.title),ie||(ie=he()),ie.popFlash(),i()});const re=qe(tt);re.use(Ce());re.use(ve);re.use(De);re.mount("#app");
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./themes/viva-light@H8a1X4Aj.css","./themes/viva-dark@qyr74qbj.css","./NotFoundView@yM4ljRwH.js","./primevue@SDERQo9H.js","./vue@VMVV_7_-.js","./primevue@_t5YR9K2.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}